{"version":3,"file":"netflux.umd.min.js","sources":["../node_modules/rxjs/util/tryCatch.js","../node_modules/rxjs/Subscription.js","../node_modules/@protobufjs/eventemitter/index.js","../node_modules/@protobufjs/float/index.js","../node_modules/protobufjs/src/util/longbits.js","../node_modules/protobufjs/src/writer.js","../node_modules/protobufjs/src/writer_buffer.js","../node_modules/protobufjs/src/reader.js","../node_modules/protobufjs/src/reader_buffer.js","../node_modules/protobufjs/src/rpc/service.js","../node_modules/webrtc-adapter/out/adapter_no_edge_no_global.js","../node_modules/rxjs/util/root.js","../node_modules/rxjs/util/isFunction.js","../node_modules/rxjs/util/isArray.js","../node_modules/rxjs/util/isObject.js","../node_modules/rxjs/util/errorObject.js","../node_modules/rxjs/util/UnsubscriptionError.js","../node_modules/rxjs/Observer.js","../node_modules/rxjs/symbol/rxSubscriber.js","../node_modules/rxjs/Subscriber.js","../node_modules/rxjs/util/toSubscriber.js","../node_modules/rxjs/symbol/observable.js","../node_modules/rxjs/Observable.js","../node_modules/rxjs/util/ObjectUnsubscribedError.js","../node_modules/rxjs/SubjectSubscription.js","../node_modules/rxjs/Subject.js","../node_modules/rxjs/operator/map.js","../node_modules/rxjs/add/operator/map.js","../node_modules/@protobufjs/aspromise/index.js","../node_modules/@protobufjs/base64/index.js","../node_modules/@protobufjs/inquire/index.js","../node_modules/@protobufjs/utf8/index.js","../node_modules/@protobufjs/pool/index.js","../node_modules/protobufjs/src/util/minimal.js","../node_modules/protobufjs/src/rpc.js","../node_modules/protobufjs/src/index-minimal.js","../src/Protobuf.js","../node_modules/rxjs/BehaviorSubject.js","../node_modules/rxjs/operator/filter.js","../node_modules/rxjs/add/operator/filter.js","../node_modules/rxjs/scheduler/Action.js","../node_modules/rxjs/scheduler/AsyncAction.js","../node_modules/rxjs/scheduler/QueueAction.js","../node_modules/rxjs/Scheduler.js","../node_modules/rxjs/scheduler/AsyncScheduler.js","../node_modules/rxjs/scheduler/QueueScheduler.js","../node_modules/rxjs/scheduler/queue.js","../node_modules/rxjs/Notification.js","../node_modules/rxjs/operator/observeOn.js","../node_modules/rxjs/ReplaySubject.js"],"sourcesContent":["\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map","\"use strict\";\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        this._parent = null;\n        this._parents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n","\"use strict\";\r\nmodule.exports = LongBits;\r\n\r\nvar util = require(\"../util/minimal\");\r\n\r\n/**\r\n * Constructs new long bits.\r\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\r\n * @memberof util\r\n * @constructor\r\n * @param {number} lo Low 32 bits, unsigned\r\n * @param {number} hi High 32 bits, unsigned\r\n */\r\nfunction LongBits(lo, hi) {\r\n\r\n    // note that the casts below are theoretically unnecessary as of today, but older statically\r\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\r\n\r\n    /**\r\n     * Low bits.\r\n     * @type {number}\r\n     */\r\n    this.lo = lo >>> 0;\r\n\r\n    /**\r\n     * High bits.\r\n     * @type {number}\r\n     */\r\n    this.hi = hi >>> 0;\r\n}\r\n\r\n/**\r\n * Zero bits.\r\n * @memberof util.LongBits\r\n * @type {util.LongBits}\r\n */\r\nvar zero = LongBits.zero = new LongBits(0, 0);\r\n\r\nzero.toNumber = function() { return 0; };\r\nzero.zzEncode = zero.zzDecode = function() { return this; };\r\nzero.length = function() { return 1; };\r\n\r\n/**\r\n * Zero hash.\r\n * @memberof util.LongBits\r\n * @type {string}\r\n */\r\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\r\n\r\n/**\r\n * Constructs new long bits from the specified number.\r\n * @param {number} value Value\r\n * @returns {util.LongBits} Instance\r\n */\r\nLongBits.fromNumber = function fromNumber(value) {\r\n    if (value === 0)\r\n        return zero;\r\n    var sign = value < 0;\r\n    if (sign)\r\n        value = -value;\r\n    var lo = value >>> 0,\r\n        hi = (value - lo) / 4294967296 >>> 0;\r\n    if (sign) {\r\n        hi = ~hi >>> 0;\r\n        lo = ~lo >>> 0;\r\n        if (++lo > 4294967295) {\r\n            lo = 0;\r\n            if (++hi > 4294967295)\r\n                hi = 0;\r\n        }\r\n    }\r\n    return new LongBits(lo, hi);\r\n};\r\n\r\n/**\r\n * Constructs new long bits from a number, long or string.\r\n * @param {Long|number|string} value Value\r\n * @returns {util.LongBits} Instance\r\n */\r\nLongBits.from = function from(value) {\r\n    if (typeof value === \"number\")\r\n        return LongBits.fromNumber(value);\r\n    if (util.isString(value)) {\r\n        /* istanbul ignore else */\r\n        if (util.Long)\r\n            value = util.Long.fromString(value);\r\n        else\r\n            return LongBits.fromNumber(parseInt(value, 10));\r\n    }\r\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\r\n};\r\n\r\n/**\r\n * Converts this long bits to a possibly unsafe JavaScript number.\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {number} Possibly unsafe number\r\n */\r\nLongBits.prototype.toNumber = function toNumber(unsigned) {\r\n    if (!unsigned && this.hi >>> 31) {\r\n        var lo = ~this.lo + 1 >>> 0,\r\n            hi = ~this.hi     >>> 0;\r\n        if (!lo)\r\n            hi = hi + 1 >>> 0;\r\n        return -(lo + hi * 4294967296);\r\n    }\r\n    return this.lo + this.hi * 4294967296;\r\n};\r\n\r\n/**\r\n * Converts this long bits to a long.\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {Long} Long\r\n */\r\nLongBits.prototype.toLong = function toLong(unsigned) {\r\n    return util.Long\r\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\r\n        /* istanbul ignore next */\r\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\r\n};\r\n\r\nvar charCodeAt = String.prototype.charCodeAt;\r\n\r\n/**\r\n * Constructs new long bits from the specified 8 characters long hash.\r\n * @param {string} hash Hash\r\n * @returns {util.LongBits} Bits\r\n */\r\nLongBits.fromHash = function fromHash(hash) {\r\n    if (hash === zeroHash)\r\n        return zero;\r\n    return new LongBits(\r\n        ( charCodeAt.call(hash, 0)\r\n        | charCodeAt.call(hash, 1) << 8\r\n        | charCodeAt.call(hash, 2) << 16\r\n        | charCodeAt.call(hash, 3) << 24) >>> 0\r\n    ,\r\n        ( charCodeAt.call(hash, 4)\r\n        | charCodeAt.call(hash, 5) << 8\r\n        | charCodeAt.call(hash, 6) << 16\r\n        | charCodeAt.call(hash, 7) << 24) >>> 0\r\n    );\r\n};\r\n\r\n/**\r\n * Converts this long bits to a 8 characters long hash.\r\n * @returns {string} Hash\r\n */\r\nLongBits.prototype.toHash = function toHash() {\r\n    return String.fromCharCode(\r\n        this.lo        & 255,\r\n        this.lo >>> 8  & 255,\r\n        this.lo >>> 16 & 255,\r\n        this.lo >>> 24      ,\r\n        this.hi        & 255,\r\n        this.hi >>> 8  & 255,\r\n        this.hi >>> 16 & 255,\r\n        this.hi >>> 24\r\n    );\r\n};\r\n\r\n/**\r\n * Zig-zag encodes this long bits.\r\n * @returns {util.LongBits} `this`\r\n */\r\nLongBits.prototype.zzEncode = function zzEncode() {\r\n    var mask =   this.hi >> 31;\r\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\r\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Zig-zag decodes this long bits.\r\n * @returns {util.LongBits} `this`\r\n */\r\nLongBits.prototype.zzDecode = function zzDecode() {\r\n    var mask = -(this.lo & 1);\r\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\r\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Calculates the length of this longbits when encoded as a varint.\r\n * @returns {number} Length\r\n */\r\nLongBits.prototype.length = function length() {\r\n    var part0 =  this.lo,\r\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\r\n        part2 =  this.hi >>> 24;\r\n    return part2 === 0\r\n         ? part1 === 0\r\n           ? part0 < 16384\r\n             ? part0 < 128 ? 1 : 2\r\n             : part0 < 2097152 ? 3 : 4\r\n           : part1 < 16384\r\n             ? part1 < 128 ? 5 : 6\r\n             : part1 < 2097152 ? 7 : 8\r\n         : part2 < 128 ? 9 : 10;\r\n};\r\n","\"use strict\";\r\nmodule.exports = Writer;\r\n\r\nvar util      = require(\"./util/minimal\");\r\n\r\nvar BufferWriter; // cyclic\r\n\r\nvar LongBits  = util.LongBits,\r\n    base64    = util.base64,\r\n    utf8      = util.utf8;\r\n\r\n/**\r\n * Constructs a new writer operation instance.\r\n * @classdesc Scheduled writer operation.\r\n * @constructor\r\n * @param {function(*, Uint8Array, number)} fn Function to call\r\n * @param {number} len Value byte length\r\n * @param {*} val Value to write\r\n * @ignore\r\n */\r\nfunction Op(fn, len, val) {\r\n\r\n    /**\r\n     * Function to call.\r\n     * @type {function(Uint8Array, number, *)}\r\n     */\r\n    this.fn = fn;\r\n\r\n    /**\r\n     * Value byte length.\r\n     * @type {number}\r\n     */\r\n    this.len = len;\r\n\r\n    /**\r\n     * Next operation.\r\n     * @type {Writer.Op|undefined}\r\n     */\r\n    this.next = undefined;\r\n\r\n    /**\r\n     * Value to write.\r\n     * @type {*}\r\n     */\r\n    this.val = val; // type varies\r\n}\r\n\r\n/* istanbul ignore next */\r\nfunction noop() {} // eslint-disable-line no-empty-function\r\n\r\n/**\r\n * Constructs a new writer state instance.\r\n * @classdesc Copied writer state.\r\n * @memberof Writer\r\n * @constructor\r\n * @param {Writer} writer Writer to copy state from\r\n * @ignore\r\n */\r\nfunction State(writer) {\r\n\r\n    /**\r\n     * Current head.\r\n     * @type {Writer.Op}\r\n     */\r\n    this.head = writer.head;\r\n\r\n    /**\r\n     * Current tail.\r\n     * @type {Writer.Op}\r\n     */\r\n    this.tail = writer.tail;\r\n\r\n    /**\r\n     * Current buffer length.\r\n     * @type {number}\r\n     */\r\n    this.len = writer.len;\r\n\r\n    /**\r\n     * Next state.\r\n     * @type {State|null}\r\n     */\r\n    this.next = writer.states;\r\n}\r\n\r\n/**\r\n * Constructs a new writer instance.\r\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\r\n * @constructor\r\n */\r\nfunction Writer() {\r\n\r\n    /**\r\n     * Current length.\r\n     * @type {number}\r\n     */\r\n    this.len = 0;\r\n\r\n    /**\r\n     * Operations head.\r\n     * @type {Object}\r\n     */\r\n    this.head = new Op(noop, 0, 0);\r\n\r\n    /**\r\n     * Operations tail\r\n     * @type {Object}\r\n     */\r\n    this.tail = this.head;\r\n\r\n    /**\r\n     * Linked forked states.\r\n     * @type {Object|null}\r\n     */\r\n    this.states = null;\r\n\r\n    // When a value is written, the writer calculates its byte length and puts it into a linked\r\n    // list of operations to perform when finish() is called. This both allows us to allocate\r\n    // buffers of the exact required size and reduces the amount of work we have to do compared\r\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\r\n    // part is just a linked list walk calling operations with already prepared values.\r\n}\r\n\r\n/**\r\n * Creates a new writer.\r\n * @function\r\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\r\n */\r\nWriter.create = util.Buffer\r\n    ? function create_buffer_setup() {\r\n        return (Writer.create = function create_buffer() {\r\n            return new BufferWriter();\r\n        })();\r\n    }\r\n    /* istanbul ignore next */\r\n    : function create_array() {\r\n        return new Writer();\r\n    };\r\n\r\n/**\r\n * Allocates a buffer of the specified size.\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\nWriter.alloc = function alloc(size) {\r\n    return new util.Array(size);\r\n};\r\n\r\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\r\n/* istanbul ignore else */\r\nif (util.Array !== Array)\r\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\r\n\r\n/**\r\n * Pushes a new operation to the queue.\r\n * @param {function(Uint8Array, number, *)} fn Function to call\r\n * @param {number} len Value byte length\r\n * @param {number} val Value to write\r\n * @returns {Writer} `this`\r\n * @private\r\n */\r\nWriter.prototype._push = function push(fn, len, val) {\r\n    this.tail = this.tail.next = new Op(fn, len, val);\r\n    this.len += len;\r\n    return this;\r\n};\r\n\r\nfunction writeByte(val, buf, pos) {\r\n    buf[pos] = val & 255;\r\n}\r\n\r\nfunction writeVarint32(val, buf, pos) {\r\n    while (val > 127) {\r\n        buf[pos++] = val & 127 | 128;\r\n        val >>>= 7;\r\n    }\r\n    buf[pos] = val;\r\n}\r\n\r\n/**\r\n * Constructs a new varint writer operation instance.\r\n * @classdesc Scheduled varint writer operation.\r\n * @extends Op\r\n * @constructor\r\n * @param {number} len Value byte length\r\n * @param {number} val Value to write\r\n * @ignore\r\n */\r\nfunction VarintOp(len, val) {\r\n    this.len = len;\r\n    this.next = undefined;\r\n    this.val = val;\r\n}\r\n\r\nVarintOp.prototype = Object.create(Op.prototype);\r\nVarintOp.prototype.fn = writeVarint32;\r\n\r\n/**\r\n * Writes an unsigned 32 bit value as a varint.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.uint32 = function write_uint32(value) {\r\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\r\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\r\n    this.len += (this.tail = this.tail.next = new VarintOp(\r\n        (value = value >>> 0)\r\n                < 128       ? 1\r\n        : value < 16384     ? 2\r\n        : value < 2097152   ? 3\r\n        : value < 268435456 ? 4\r\n        :                     5,\r\n    value)).len;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Writes a signed 32 bit value as a varint.\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.int32 = function write_int32(value) {\r\n    return value < 0\r\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\r\n        : this.uint32(value);\r\n};\r\n\r\n/**\r\n * Writes a 32 bit value as a varint, zig-zag encoded.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.sint32 = function write_sint32(value) {\r\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\r\n};\r\n\r\nfunction writeVarint64(val, buf, pos) {\r\n    while (val.hi) {\r\n        buf[pos++] = val.lo & 127 | 128;\r\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\r\n        val.hi >>>= 7;\r\n    }\r\n    while (val.lo > 127) {\r\n        buf[pos++] = val.lo & 127 | 128;\r\n        val.lo = val.lo >>> 7;\r\n    }\r\n    buf[pos++] = val.lo;\r\n}\r\n\r\n/**\r\n * Writes an unsigned 64 bit value as a varint.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.uint64 = function write_uint64(value) {\r\n    var bits = LongBits.from(value);\r\n    return this._push(writeVarint64, bits.length(), bits);\r\n};\r\n\r\n/**\r\n * Writes a signed 64 bit value as a varint.\r\n * @function\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.int64 = Writer.prototype.uint64;\r\n\r\n/**\r\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.sint64 = function write_sint64(value) {\r\n    var bits = LongBits.from(value).zzEncode();\r\n    return this._push(writeVarint64, bits.length(), bits);\r\n};\r\n\r\n/**\r\n * Writes a boolish value as a varint.\r\n * @param {boolean} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.bool = function write_bool(value) {\r\n    return this._push(writeByte, 1, value ? 1 : 0);\r\n};\r\n\r\nfunction writeFixed32(val, buf, pos) {\r\n    buf[pos    ] =  val         & 255;\r\n    buf[pos + 1] =  val >>> 8   & 255;\r\n    buf[pos + 2] =  val >>> 16  & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\n/**\r\n * Writes an unsigned 32 bit value as fixed 32 bits.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.fixed32 = function write_fixed32(value) {\r\n    return this._push(writeFixed32, 4, value >>> 0);\r\n};\r\n\r\n/**\r\n * Writes a signed 32 bit value as fixed 32 bits.\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\r\n\r\n/**\r\n * Writes an unsigned 64 bit value as fixed 64 bits.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.fixed64 = function write_fixed64(value) {\r\n    var bits = LongBits.from(value);\r\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\r\n};\r\n\r\n/**\r\n * Writes a signed 64 bit value as fixed 64 bits.\r\n * @function\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\r\n\r\n/**\r\n * Writes a float (32 bit).\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.float = function write_float(value) {\r\n    return this._push(util.float.writeFloatLE, 4, value);\r\n};\r\n\r\n/**\r\n * Writes a double (64 bit float).\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.double = function write_double(value) {\r\n    return this._push(util.float.writeDoubleLE, 8, value);\r\n};\r\n\r\nvar writeBytes = util.Array.prototype.set\r\n    ? function writeBytes_set(val, buf, pos) {\r\n        buf.set(val, pos); // also works for plain array values\r\n    }\r\n    /* istanbul ignore next */\r\n    : function writeBytes_for(val, buf, pos) {\r\n        for (var i = 0; i < val.length; ++i)\r\n            buf[pos + i] = val[i];\r\n    };\r\n\r\n/**\r\n * Writes a sequence of bytes.\r\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.bytes = function write_bytes(value) {\r\n    var len = value.length >>> 0;\r\n    if (!len)\r\n        return this._push(writeByte, 1, 0);\r\n    if (util.isString(value)) {\r\n        var buf = Writer.alloc(len = base64.length(value));\r\n        base64.decode(value, buf, 0);\r\n        value = buf;\r\n    }\r\n    return this.uint32(len)._push(writeBytes, len, value);\r\n};\r\n\r\n/**\r\n * Writes a string.\r\n * @param {string} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.string = function write_string(value) {\r\n    var len = utf8.length(value);\r\n    return len\r\n        ? this.uint32(len)._push(utf8.write, len, value)\r\n        : this._push(writeByte, 1, 0);\r\n};\r\n\r\n/**\r\n * Forks this writer's state by pushing it to a stack.\r\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.fork = function fork() {\r\n    this.states = new State(this);\r\n    this.head = this.tail = new Op(noop, 0, 0);\r\n    this.len = 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets this instance to the last state.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.reset = function reset() {\r\n    if (this.states) {\r\n        this.head   = this.states.head;\r\n        this.tail   = this.states.tail;\r\n        this.len    = this.states.len;\r\n        this.states = this.states.next;\r\n    } else {\r\n        this.head = this.tail = new Op(noop, 0, 0);\r\n        this.len  = 0;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.ldelim = function ldelim() {\r\n    var head = this.head,\r\n        tail = this.tail,\r\n        len  = this.len;\r\n    this.reset().uint32(len);\r\n    if (len) {\r\n        this.tail.next = head.next; // skip noop\r\n        this.tail = tail;\r\n        this.len += len;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Finishes the write operation.\r\n * @returns {Uint8Array} Finished buffer\r\n */\r\nWriter.prototype.finish = function finish() {\r\n    var head = this.head.next, // skip noop\r\n        buf  = this.constructor.alloc(this.len),\r\n        pos  = 0;\r\n    while (head) {\r\n        head.fn(head.val, buf, pos);\r\n        pos += head.len;\r\n        head = head.next;\r\n    }\r\n    // this.head = this.tail = null;\r\n    return buf;\r\n};\r\n\r\nWriter._configure = function(BufferWriter_) {\r\n    BufferWriter = BufferWriter_;\r\n};\r\n","\"use strict\";\r\nmodule.exports = BufferWriter;\r\n\r\n// extends Writer\r\nvar Writer = require(\"./writer\");\r\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\r\n\r\nvar util = require(\"./util/minimal\");\r\n\r\nvar Buffer = util.Buffer;\r\n\r\n/**\r\n * Constructs a new buffer writer instance.\r\n * @classdesc Wire format writer using node buffers.\r\n * @extends Writer\r\n * @constructor\r\n */\r\nfunction BufferWriter() {\r\n    Writer.call(this);\r\n}\r\n\r\n/**\r\n * Allocates a buffer of the specified size.\r\n * @param {number} size Buffer size\r\n * @returns {Buffer} Buffer\r\n */\r\nBufferWriter.alloc = function alloc_buffer(size) {\r\n    return (BufferWriter.alloc = util._Buffer_allocUnsafe)(size);\r\n};\r\n\r\nvar writeBytesBuffer = Buffer && Buffer.prototype instanceof Uint8Array && Buffer.prototype.set.name === \"set\"\r\n    ? function writeBytesBuffer_set(val, buf, pos) {\r\n        buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\r\n                           // also works for plain array values\r\n    }\r\n    /* istanbul ignore next */\r\n    : function writeBytesBuffer_copy(val, buf, pos) {\r\n        if (val.copy) // Buffer values\r\n            val.copy(buf, pos, 0, val.length);\r\n        else for (var i = 0; i < val.length;) // plain array values\r\n            buf[pos++] = val[i++];\r\n    };\r\n\r\n/**\r\n * @override\r\n */\r\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\r\n    if (util.isString(value))\r\n        value = util._Buffer_from(value, \"base64\");\r\n    var len = value.length >>> 0;\r\n    this.uint32(len);\r\n    if (len)\r\n        this._push(writeBytesBuffer, len, value);\r\n    return this;\r\n};\r\n\r\nfunction writeStringBuffer(val, buf, pos) {\r\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\r\n        util.utf8.write(val, buf, pos);\r\n    else\r\n        buf.utf8Write(val, pos);\r\n}\r\n\r\n/**\r\n * @override\r\n */\r\nBufferWriter.prototype.string = function write_string_buffer(value) {\r\n    var len = Buffer.byteLength(value);\r\n    this.uint32(len);\r\n    if (len)\r\n        this._push(writeStringBuffer, len, value);\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Finishes the write operation.\r\n * @name BufferWriter#finish\r\n * @function\r\n * @returns {Buffer} Finished buffer\r\n */\r\n","\"use strict\";\r\nmodule.exports = Reader;\r\n\r\nvar util      = require(\"./util/minimal\");\r\n\r\nvar BufferReader; // cyclic\r\n\r\nvar LongBits  = util.LongBits,\r\n    utf8      = util.utf8;\r\n\r\n/* istanbul ignore next */\r\nfunction indexOutOfRange(reader, writeLength) {\r\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\r\n}\r\n\r\n/**\r\n * Constructs a new reader instance using the specified buffer.\r\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\r\n * @constructor\r\n * @param {Uint8Array} buffer Buffer to read from\r\n */\r\nfunction Reader(buffer) {\r\n\r\n    /**\r\n     * Read buffer.\r\n     * @type {Uint8Array}\r\n     */\r\n    this.buf = buffer;\r\n\r\n    /**\r\n     * Read buffer position.\r\n     * @type {number}\r\n     */\r\n    this.pos = 0;\r\n\r\n    /**\r\n     * Read buffer length.\r\n     * @type {number}\r\n     */\r\n    this.len = buffer.length;\r\n}\r\n\r\nvar create_array = typeof Uint8Array !== \"undefined\"\r\n    ? function create_typed_array(buffer) {\r\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\r\n            return new Reader(buffer);\r\n        throw Error(\"illegal buffer\");\r\n    }\r\n    /* istanbul ignore next */\r\n    : function create_array(buffer) {\r\n        if (Array.isArray(buffer))\r\n            return new Reader(buffer);\r\n        throw Error(\"illegal buffer\");\r\n    };\r\n\r\n/**\r\n * Creates a new reader using the specified buffer.\r\n * @function\r\n * @param {Uint8Array|Buffer} buffer Buffer to read from\r\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\r\n * @throws {Error} If `buffer` is not a valid buffer\r\n */\r\nReader.create = util.Buffer\r\n    ? function create_buffer_setup(buffer) {\r\n        return (Reader.create = function create_buffer(buffer) {\r\n            return util.Buffer.isBuffer(buffer)\r\n                ? new BufferReader(buffer)\r\n                /* istanbul ignore next */\r\n                : create_array(buffer);\r\n        })(buffer);\r\n    }\r\n    /* istanbul ignore next */\r\n    : create_array;\r\n\r\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\r\n\r\n/**\r\n * Reads a varint as an unsigned 32 bit value.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.uint32 = (function read_uint32_setup() {\r\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\r\n    return function read_uint32() {\r\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n\r\n        /* istanbul ignore if */\r\n        if ((this.pos += 5) > this.len) {\r\n            this.pos = this.len;\r\n            throw indexOutOfRange(this, 10);\r\n        }\r\n        return value;\r\n    };\r\n})();\r\n\r\n/**\r\n * Reads a varint as a signed 32 bit value.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.int32 = function read_int32() {\r\n    return this.uint32() | 0;\r\n};\r\n\r\n/**\r\n * Reads a zig-zag encoded varint as a signed 32 bit value.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.sint32 = function read_sint32() {\r\n    var value = this.uint32();\r\n    return value >>> 1 ^ -(value & 1) | 0;\r\n};\r\n\r\n/* eslint-disable no-invalid-this */\r\n\r\nfunction readLongVarint() {\r\n    // tends to deopt with local vars for octet etc.\r\n    var bits = new LongBits(0, 0);\r\n    var i = 0;\r\n    if (this.len - this.pos > 4) { // fast route (lo)\r\n        for (; i < 4; ++i) {\r\n            // 1st..4th\r\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n        // 5th\r\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\r\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\r\n        if (this.buf[this.pos++] < 128)\r\n            return bits;\r\n        i = 0;\r\n    } else {\r\n        for (; i < 3; ++i) {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n            // 1st..3th\r\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n        // 4th\r\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\r\n        return bits;\r\n    }\r\n    if (this.len - this.pos > 4) { // fast route (hi)\r\n        for (; i < 5; ++i) {\r\n            // 6th..10th\r\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n    } else {\r\n        for (; i < 5; ++i) {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n            // 6th..10th\r\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n    }\r\n    /* istanbul ignore next */\r\n    throw Error(\"invalid varint encoding\");\r\n}\r\n\r\n/* eslint-enable no-invalid-this */\r\n\r\n/**\r\n * Reads a varint as a signed 64 bit value.\r\n * @name Reader#int64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a varint as an unsigned 64 bit value.\r\n * @name Reader#uint64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a zig-zag encoded varint as a signed 64 bit value.\r\n * @name Reader#sint64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a varint as a boolean.\r\n * @returns {boolean} Value read\r\n */\r\nReader.prototype.bool = function read_bool() {\r\n    return this.uint32() !== 0;\r\n};\r\n\r\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\r\n    return (buf[end - 4]\r\n          | buf[end - 3] << 8\r\n          | buf[end - 2] << 16\r\n          | buf[end - 1] << 24) >>> 0;\r\n}\r\n\r\n/**\r\n * Reads fixed 32 bits as an unsigned 32 bit integer.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.fixed32 = function read_fixed32() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    return readFixed32_end(this.buf, this.pos += 4);\r\n};\r\n\r\n/**\r\n * Reads fixed 32 bits as a signed 32 bit integer.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.sfixed32 = function read_sfixed32() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\r\n};\r\n\r\n/* eslint-disable no-invalid-this */\r\n\r\nfunction readFixed64(/* this: Reader */) {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 8 > this.len)\r\n        throw indexOutOfRange(this, 8);\r\n\r\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\r\n}\r\n\r\n/* eslint-enable no-invalid-this */\r\n\r\n/**\r\n * Reads fixed 64 bits.\r\n * @name Reader#fixed64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads zig-zag encoded fixed 64 bits.\r\n * @name Reader#sfixed64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a float (32 bit) as a number.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.float = function read_float() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    var value = util.float.readFloatLE(this.buf, this.pos);\r\n    this.pos += 4;\r\n    return value;\r\n};\r\n\r\n/**\r\n * Reads a double (64 bit float) as a number.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.double = function read_double() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 8 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    var value = util.float.readDoubleLE(this.buf, this.pos);\r\n    this.pos += 8;\r\n    return value;\r\n};\r\n\r\n/**\r\n * Reads a sequence of bytes preceeded by its length as a varint.\r\n * @returns {Uint8Array} Value read\r\n */\r\nReader.prototype.bytes = function read_bytes() {\r\n    var length = this.uint32(),\r\n        start  = this.pos,\r\n        end    = this.pos + length;\r\n\r\n    /* istanbul ignore if */\r\n    if (end > this.len)\r\n        throw indexOutOfRange(this, length);\r\n\r\n    this.pos += length;\r\n    if (Array.isArray(this.buf)) // plain array\r\n        return this.buf.slice(start, end);\r\n    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1\r\n        ? new this.buf.constructor(0)\r\n        : this._slice.call(this.buf, start, end);\r\n};\r\n\r\n/**\r\n * Reads a string preceeded by its byte length as a varint.\r\n * @returns {string} Value read\r\n */\r\nReader.prototype.string = function read_string() {\r\n    var bytes = this.bytes();\r\n    return utf8.read(bytes, 0, bytes.length);\r\n};\r\n\r\n/**\r\n * Skips the specified number of bytes if specified, otherwise skips a varint.\r\n * @param {number} [length] Length if known, otherwise a varint is assumed\r\n * @returns {Reader} `this`\r\n */\r\nReader.prototype.skip = function skip(length) {\r\n    if (typeof length === \"number\") {\r\n        /* istanbul ignore if */\r\n        if (this.pos + length > this.len)\r\n            throw indexOutOfRange(this, length);\r\n        this.pos += length;\r\n    } else {\r\n        do {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n        } while (this.buf[this.pos++] & 128);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Skips the next element of the specified wire type.\r\n * @param {number} wireType Wire type received\r\n * @returns {Reader} `this`\r\n */\r\nReader.prototype.skipType = function(wireType) {\r\n    switch (wireType) {\r\n        case 0:\r\n            this.skip();\r\n            break;\r\n        case 1:\r\n            this.skip(8);\r\n            break;\r\n        case 2:\r\n            this.skip(this.uint32());\r\n            break;\r\n        case 3:\r\n            do { // eslint-disable-line no-constant-condition\r\n                if ((wireType = this.uint32() & 7) === 4)\r\n                    break;\r\n                this.skipType(wireType);\r\n            } while (true);\r\n            break;\r\n        case 5:\r\n            this.skip(4);\r\n            break;\r\n\r\n        /* istanbul ignore next */\r\n        default:\r\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\r\n    }\r\n    return this;\r\n};\r\n\r\nReader._configure = function(BufferReader_) {\r\n    BufferReader = BufferReader_;\r\n\r\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\r\n    util.merge(Reader.prototype, {\r\n\r\n        int64: function read_int64() {\r\n            return readLongVarint.call(this)[fn](false);\r\n        },\r\n\r\n        uint64: function read_uint64() {\r\n            return readLongVarint.call(this)[fn](true);\r\n        },\r\n\r\n        sint64: function read_sint64() {\r\n            return readLongVarint.call(this).zzDecode()[fn](false);\r\n        },\r\n\r\n        fixed64: function read_fixed64() {\r\n            return readFixed64.call(this)[fn](true);\r\n        },\r\n\r\n        sfixed64: function read_sfixed64() {\r\n            return readFixed64.call(this)[fn](false);\r\n        }\r\n\r\n    });\r\n};\r\n","\"use strict\";\r\nmodule.exports = BufferReader;\r\n\r\n// extends Reader\r\nvar Reader = require(\"./reader\");\r\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\r\n\r\nvar util = require(\"./util/minimal\");\r\n\r\n/**\r\n * Constructs a new buffer reader instance.\r\n * @classdesc Wire format reader using node buffers.\r\n * @extends Reader\r\n * @constructor\r\n * @param {Buffer} buffer Buffer to read from\r\n */\r\nfunction BufferReader(buffer) {\r\n    Reader.call(this, buffer);\r\n\r\n    /**\r\n     * Read buffer.\r\n     * @name BufferReader#buf\r\n     * @type {Buffer}\r\n     */\r\n}\r\n\r\n/* istanbul ignore else */\r\nif (util.Buffer)\r\n    BufferReader.prototype._slice = util.Buffer.prototype.slice;\r\n\r\n/**\r\n * @override\r\n */\r\nBufferReader.prototype.string = function read_string_buffer() {\r\n    var len = this.uint32(); // modifies pos\r\n    return this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len));\r\n};\r\n\r\n/**\r\n * Reads a sequence of bytes preceeded by its length as a varint.\r\n * @name BufferReader#bytes\r\n * @function\r\n * @returns {Buffer} Value read\r\n */\r\n","\"use strict\";\r\nmodule.exports = Service;\r\n\r\nvar util = require(\"../util/minimal\");\r\n\r\n// Extends EventEmitter\r\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\r\n\r\n/**\r\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\r\n *\r\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\r\n * @typedef rpc.ServiceMethodCallback\r\n * @template TRes extends Message<TRes>\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {TRes} [response] Response message\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\r\n * @typedef rpc.ServiceMethod\r\n * @template TReq extends Message<TReq>\r\n * @template TRes extends Message<TRes>\r\n * @type {function}\r\n * @param {TReq|Properties<TReq>} request Request message or plain object\r\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\r\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\r\n */\r\n\r\n/**\r\n * Constructs a new RPC service instance.\r\n * @classdesc An RPC service as returned by {@link Service#create}.\r\n * @exports rpc.Service\r\n * @extends util.EventEmitter\r\n * @constructor\r\n * @param {RPCImpl} rpcImpl RPC implementation\r\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\r\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\r\n */\r\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\r\n\r\n    if (typeof rpcImpl !== \"function\")\r\n        throw TypeError(\"rpcImpl must be a function\");\r\n\r\n    util.EventEmitter.call(this);\r\n\r\n    /**\r\n     * RPC implementation. Becomes `null` once the service is ended.\r\n     * @type {RPCImpl|null}\r\n     */\r\n    this.rpcImpl = rpcImpl;\r\n\r\n    /**\r\n     * Whether requests are length-delimited.\r\n     * @type {boolean}\r\n     */\r\n    this.requestDelimited = Boolean(requestDelimited);\r\n\r\n    /**\r\n     * Whether responses are length-delimited.\r\n     * @type {boolean}\r\n     */\r\n    this.responseDelimited = Boolean(responseDelimited);\r\n}\r\n\r\n/**\r\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\r\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\r\n * @param {Constructor<TReq>} requestCtor Request constructor\r\n * @param {Constructor<TRes>} responseCtor Response constructor\r\n * @param {TReq|Properties<TReq>} request Request message or plain object\r\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\r\n * @returns {undefined}\r\n * @template TReq extends Message<TReq>\r\n * @template TRes extends Message<TRes>\r\n */\r\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\r\n\r\n    if (!request)\r\n        throw TypeError(\"request must be specified\");\r\n\r\n    var self = this;\r\n    if (!callback)\r\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\r\n\r\n    if (!self.rpcImpl) {\r\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\r\n        return undefined;\r\n    }\r\n\r\n    try {\r\n        return self.rpcImpl(\r\n            method,\r\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\r\n            function rpcCallback(err, response) {\r\n\r\n                if (err) {\r\n                    self.emit(\"error\", err, method);\r\n                    return callback(err);\r\n                }\r\n\r\n                if (response === null) {\r\n                    self.end(/* endedByRPC */ true);\r\n                    return undefined;\r\n                }\r\n\r\n                if (!(response instanceof responseCtor)) {\r\n                    try {\r\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\r\n                    } catch (err) {\r\n                        self.emit(\"error\", err, method);\r\n                        return callback(err);\r\n                    }\r\n                }\r\n\r\n                self.emit(\"data\", response, method);\r\n                return callback(null, response);\r\n            }\r\n        );\r\n    } catch (err) {\r\n        self.emit(\"error\", err, method);\r\n        setTimeout(function() { callback(err); }, 0);\r\n        return undefined;\r\n    }\r\n};\r\n\r\n/**\r\n * Ends this service and emits the `end` event.\r\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\r\n * @returns {rpc.Service} `this`\r\n */\r\nService.prototype.end = function end(endedByRPC) {\r\n    if (this.rpcImpl) {\r\n        if (!endedByRPC) // signal end to rpcImpl\r\n            this.rpcImpl(null, null, null);\r\n        this.rpcImpl = null;\r\n        this.emit(\"end\").off();\r\n    }\r\n    return this;\r\n};\r\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\n /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n\n},{}],3:[function(require,module,exports){\n(function (global){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./adapter_factory.js\":4}],4:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var utils = require('./utils');\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      utils.shimCreateObjectURL(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia(window);\n      utils.shimCreateObjectURL(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia(window);\n      utils.shimCreateObjectURL(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      // shim window.URL.createObjectURL Safari (technical preview)\n      utils.shimCreateObjectURL(window);\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n\n},{\"./chrome/chrome_shim\":5,\"./common_shim\":7,\"./edge/edge_shim\":1,\"./firefox/firefox_shim\":8,\"./safari/safari_shim\":10,\"./utils\":11}],5:[function(require,module,exports){\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nvar chromeShim = {\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack) {\n      return;\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var self = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      self._reverseStreams = self._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return self._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(stream);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(self, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var self = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(self, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimAddTrackRemoveTrack: chromeShim.shimAddTrackRemoveTrack,\n  shimGetSendersWithDtmf: chromeShim.shimGetSendersWithDtmf,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n},{\"../utils.js\":11,\"./getusermedia\":6}],6:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 61;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n},{\"../utils.js\":11}],7:[function(require,module,exports){\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n      }\n      this.addEventListener(eventNameToWrap,\n          this['_on' + eventNameToWrap] = cb);\n    }\n  });\n}\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  }\n};\n\n},{\"sdp\":2}],8:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nvar firefoxShim = {\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n},{\"../utils\":11,\"./getusermedia\":9}],9:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n},{\"../utils\":11}],10:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var self = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(self, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var self = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            self.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            var stream = e.streams[0];\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = e.streams[0];\n            this.dispatchEvent(event);\n          }.bind(this));\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get: function() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimCallbacksAPI: safariShim.shimCallbacksAPI,\n  shimLocalStreamsAPI: safariShim.shimLocalStreamsAPI,\n  shimRemoteStreamsAPI: safariShim.shimRemoteStreamsAPI,\n  shimGetUserMedia: safariShim.shimGetUserMedia,\n  shimRTCIceServerUrls: safariShim.shimRTCIceServerUrls,\n  shimTrackEventTransceiver: safariShim.shimTrackEventTransceiver\n  // TODO\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n},{\"../utils\":11}],11:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n      } else { // Safari (in an unpublished version) or unknown webkit-based.\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/(\\d+)\\./, 1);\n        } else { // unknown webkit-based browser.\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n        // Safari, with webkitGetUserMedia removed.\n      result.browser = 'safari';\n      result.version = this.extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  deprecated: utils.deprecated,\n  disableLog: utils.disableLog,\n  disableWarnings: utils.disableWarnings,\n  extractVersion: utils.extractVersion,\n  shimCreateObjectURL: utils.shimCreateObjectURL,\n  detectBrowser: utils.detectBrowser.bind(utils)\n};\n\n},{}]},{},[3]);\n","\"use strict\";\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\nvar __window = typeof window !== 'undefined' && window;\nvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nvar __global = typeof global !== 'undefined' && global;\nvar _root = __window || __global || __self;\nexports.root = _root;\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n    if (!_root) {\n        throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n})();\n//# sourceMappingURL=root.js.map","\"use strict\";\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        _super.call(this);\n        this.errors = errors;\n        var err = Error.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n  ') : '');\n        this.name = err.name = 'UnsubscriptionError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nexports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar Observer_1 = require('./Observer');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        this.destination = destinationOrNext;\n                        this.destination.add(this);\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = this.unsubscribe.bind(this);\n            }\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._error) {\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parentSubscriber.syncErrorValue = err;\n                _parentSubscriber.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nvar Observer_1 = require('../Observer');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nfunction getSymbolObservable(context) {\n    var $$observable;\n    var Symbol = context.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            $$observable = Symbol.observable;\n        }\n        else {\n            $$observable = Symbol('observable');\n            Symbol.observable = $$observable;\n        }\n    }\n    else {\n        $$observable = '@@observable';\n    }\n    return $$observable;\n}\nexports.getSymbolObservable = getSymbolObservable;\nexports.observable = getSymbolObservable(root_1.root);\n/**\n * @deprecated use observable instead\n */\nexports.$$observable = exports.observable;\n//# sourceMappingURL=observable.js.map","\"use strict\";\nvar root_1 = require('./util/root');\nvar toSubscriber_1 = require('./util/toSubscriber');\nvar observable_1 = require('./symbol/observable');\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        if (sink.syncErrorThrowable) {\n            sink.syncErrorThrowable = false;\n            if (sink.syncErrorThrown) {\n                throw sink.syncErrorValue;\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.syncErrorThrown = true;\n            sink.syncErrorValue = err;\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('./Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('./Observable');\nvar Subscriber_1 = require('./Subscriber');\nvar Subscription_1 = require('./Subscription');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    if (typeof project !== 'function') {\n        throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return this.lift(new MapOperator(project, thisArg));\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map","\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n","\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n","\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n","\"use strict\";\r\nvar util = exports;\r\n\r\n// used to return a Promise where callback is omitted\r\nutil.asPromise = require(\"@protobufjs/aspromise\");\r\n\r\n// converts to / from base64 encoded strings\r\nutil.base64 = require(\"@protobufjs/base64\");\r\n\r\n// base class of rpc.Service\r\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\r\n\r\n// float handling accross browsers\r\nutil.float = require(\"@protobufjs/float\");\r\n\r\n// requires modules optionally and hides the call from bundlers\r\nutil.inquire = require(\"@protobufjs/inquire\");\r\n\r\n// converts to / from utf8 encoded strings\r\nutil.utf8 = require(\"@protobufjs/utf8\");\r\n\r\n// provides a node-like buffer pool in the browser\r\nutil.pool = require(\"@protobufjs/pool\");\r\n\r\n// utility to work with the low and high bits of a 64 bit value\r\nutil.LongBits = require(\"./longbits\");\r\n\r\n/**\r\n * An immuable empty array.\r\n * @memberof util\r\n * @type {Array.<*>}\r\n * @const\r\n */\r\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\r\n\r\n/**\r\n * An immutable empty object.\r\n * @type {Object}\r\n * @const\r\n */\r\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\r\n\r\n/**\r\n * Whether running within node or not.\r\n * @memberof util\r\n * @type {boolean}\r\n * @const\r\n */\r\nutil.isNode = Boolean(global.process && global.process.versions && global.process.versions.node);\r\n\r\n/**\r\n * Tests if the specified value is an integer.\r\n * @function\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is an integer\r\n */\r\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\r\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\r\n};\r\n\r\n/**\r\n * Tests if the specified value is a string.\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is a string\r\n */\r\nutil.isString = function isString(value) {\r\n    return typeof value === \"string\" || value instanceof String;\r\n};\r\n\r\n/**\r\n * Tests if the specified value is a non-null object.\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is a non-null object\r\n */\r\nutil.isObject = function isObject(value) {\r\n    return value && typeof value === \"object\";\r\n};\r\n\r\n/**\r\n * Checks if a property on a message is considered to be present.\r\n * This is an alias of {@link util.isSet}.\r\n * @function\r\n * @param {Object} obj Plain object or message instance\r\n * @param {string} prop Property name\r\n * @returns {boolean} `true` if considered to be present, otherwise `false`\r\n */\r\nutil.isset =\r\n\r\n/**\r\n * Checks if a property on a message is considered to be present.\r\n * @param {Object} obj Plain object or message instance\r\n * @param {string} prop Property name\r\n * @returns {boolean} `true` if considered to be present, otherwise `false`\r\n */\r\nutil.isSet = function isSet(obj, prop) {\r\n    var value = obj[prop];\r\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\r\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\r\n    return false;\r\n};\r\n\r\n/**\r\n * Any compatible Buffer instance.\r\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\r\n * @interface Buffer\r\n * @extends Uint8Array\r\n */\r\n\r\n/**\r\n * Node's Buffer class if available.\r\n * @type {Constructor<Buffer>}\r\n */\r\nutil.Buffer = (function() {\r\n    try {\r\n        var Buffer = util.inquire(\"buffer\").Buffer;\r\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\r\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\r\n    } catch (e) {\r\n        /* istanbul ignore next */\r\n        return null;\r\n    }\r\n})();\r\n\r\n// Internal alias of or polyfull for Buffer.from.\r\nutil._Buffer_from = null;\r\n\r\n// Internal alias of or polyfill for Buffer.allocUnsafe.\r\nutil._Buffer_allocUnsafe = null;\r\n\r\n/**\r\n * Creates a new buffer of whatever type supported by the environment.\r\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\r\n * @returns {Uint8Array|Buffer} Buffer\r\n */\r\nutil.newBuffer = function newBuffer(sizeOrArray) {\r\n    /* istanbul ignore next */\r\n    return typeof sizeOrArray === \"number\"\r\n        ? util.Buffer\r\n            ? util._Buffer_allocUnsafe(sizeOrArray)\r\n            : new util.Array(sizeOrArray)\r\n        : util.Buffer\r\n            ? util._Buffer_from(sizeOrArray)\r\n            : typeof Uint8Array === \"undefined\"\r\n                ? sizeOrArray\r\n                : new Uint8Array(sizeOrArray);\r\n};\r\n\r\n/**\r\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\r\n * @type {Constructor<Uint8Array>}\r\n */\r\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\r\n\r\n/**\r\n * Any compatible Long instance.\r\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\r\n * @interface Long\r\n * @property {number} low Low bits\r\n * @property {number} high High bits\r\n * @property {boolean} unsigned Whether unsigned or not\r\n */\r\n\r\n/**\r\n * Long.js's Long class if available.\r\n * @type {Constructor<Long>}\r\n */\r\nutil.Long = /* istanbul ignore next */ global.dcodeIO && /* istanbul ignore next */ global.dcodeIO.Long || util.inquire(\"long\");\r\n\r\n/**\r\n * Regular expression used to verify 2 bit (`bool`) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key2Re = /^true|false|0|1$/;\r\n\r\n/**\r\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\r\n\r\n/**\r\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\r\n\r\n/**\r\n * Converts a number or long to an 8 characters long hash string.\r\n * @param {Long|number} value Value to convert\r\n * @returns {string} Hash\r\n */\r\nutil.longToHash = function longToHash(value) {\r\n    return value\r\n        ? util.LongBits.from(value).toHash()\r\n        : util.LongBits.zeroHash;\r\n};\r\n\r\n/**\r\n * Converts an 8 characters long hash string to a long or number.\r\n * @param {string} hash Hash\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {Long|number} Original value\r\n */\r\nutil.longFromHash = function longFromHash(hash, unsigned) {\r\n    var bits = util.LongBits.fromHash(hash);\r\n    if (util.Long)\r\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\r\n    return bits.toNumber(Boolean(unsigned));\r\n};\r\n\r\n/**\r\n * Merges the properties of the source object into the destination object.\r\n * @memberof util\r\n * @param {Object.<string,*>} dst Destination object\r\n * @param {Object.<string,*>} src Source object\r\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\r\n * @returns {Object.<string,*>} Destination object\r\n */\r\nfunction merge(dst, src, ifNotSet) { // used by converters\r\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\r\n        if (dst[keys[i]] === undefined || !ifNotSet)\r\n            dst[keys[i]] = src[keys[i]];\r\n    return dst;\r\n}\r\n\r\nutil.merge = merge;\r\n\r\n/**\r\n * Converts the first character of a string to lower case.\r\n * @param {string} str String to convert\r\n * @returns {string} Converted string\r\n */\r\nutil.lcFirst = function lcFirst(str) {\r\n    return str.charAt(0).toLowerCase() + str.substring(1);\r\n};\r\n\r\n/**\r\n * Creates a custom error constructor.\r\n * @memberof util\r\n * @param {string} name Error name\r\n * @returns {Constructor<Error>} Custom error constructor\r\n */\r\nfunction newError(name) {\r\n\r\n    function CustomError(message, properties) {\r\n\r\n        if (!(this instanceof CustomError))\r\n            return new CustomError(message, properties);\r\n\r\n        // Error.call(this, message);\r\n        // ^ just returns a new error instance because the ctor can be called as a function\r\n\r\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\r\n\r\n        /* istanbul ignore next */\r\n        if (Error.captureStackTrace) // node\r\n            Error.captureStackTrace(this, CustomError);\r\n        else\r\n            Object.defineProperty(this, \"stack\", { value: (new Error()).stack || \"\" });\r\n\r\n        if (properties)\r\n            merge(this, properties);\r\n    }\r\n\r\n    (CustomError.prototype = Object.create(Error.prototype)).constructor = CustomError;\r\n\r\n    Object.defineProperty(CustomError.prototype, \"name\", { get: function() { return name; } });\r\n\r\n    CustomError.prototype.toString = function toString() {\r\n        return this.name + \": \" + this.message;\r\n    };\r\n\r\n    return CustomError;\r\n}\r\n\r\nutil.newError = newError;\r\n\r\n/**\r\n * Constructs a new protocol error.\r\n * @classdesc Error subclass indicating a protocol specifc error.\r\n * @memberof util\r\n * @extends Error\r\n * @template T extends Message<T>\r\n * @constructor\r\n * @param {string} message Error message\r\n * @param {Object.<string,*>} [properties] Additional properties\r\n * @example\r\n * try {\r\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\r\n * } catch (e) {\r\n *     if (e instanceof ProtocolError && e.instance)\r\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\r\n * }\r\n */\r\nutil.ProtocolError = newError(\"ProtocolError\");\r\n\r\n/**\r\n * So far decoded message instance.\r\n * @name util.ProtocolError#instance\r\n * @type {Message<T>}\r\n */\r\n\r\n/**\r\n * A OneOf getter as returned by {@link util.oneOfGetter}.\r\n * @typedef OneOfGetter\r\n * @type {function}\r\n * @returns {string|undefined} Set field name, if any\r\n */\r\n\r\n/**\r\n * Builds a getter for a oneof's present field name.\r\n * @param {string[]} fieldNames Field names\r\n * @returns {OneOfGetter} Unbound getter\r\n */\r\nutil.oneOfGetter = function getOneOf(fieldNames) {\r\n    var fieldMap = {};\r\n    for (var i = 0; i < fieldNames.length; ++i)\r\n        fieldMap[fieldNames[i]] = 1;\r\n\r\n    /**\r\n     * @returns {string|undefined} Set field name, if any\r\n     * @this Object\r\n     * @ignore\r\n     */\r\n    return function() { // eslint-disable-line consistent-return\r\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\r\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\r\n                return keys[i];\r\n    };\r\n};\r\n\r\n/**\r\n * A OneOf setter as returned by {@link util.oneOfSetter}.\r\n * @typedef OneOfSetter\r\n * @type {function}\r\n * @param {string|undefined} value Field name\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Builds a setter for a oneof's present field name.\r\n * @param {string[]} fieldNames Field names\r\n * @returns {OneOfSetter} Unbound setter\r\n */\r\nutil.oneOfSetter = function setOneOf(fieldNames) {\r\n\r\n    /**\r\n     * @param {string} name Field name\r\n     * @returns {undefined}\r\n     * @this Object\r\n     * @ignore\r\n     */\r\n    return function(name) {\r\n        for (var i = 0; i < fieldNames.length; ++i)\r\n            if (fieldNames[i] !== name)\r\n                delete this[fieldNames[i]];\r\n    };\r\n};\r\n\r\n/**\r\n * Default conversion options used for {@link Message#toJSON} implementations.\r\n *\r\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\r\n *\r\n * - Longs become strings\r\n * - Enums become string keys\r\n * - Bytes become base64 encoded strings\r\n * - (Sub-)Messages become plain objects\r\n * - Maps become plain objects with all string keys\r\n * - Repeated fields become arrays\r\n * - NaN and Infinity for float and double fields become strings\r\n *\r\n * @type {IConversionOptions}\r\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\r\n */\r\nutil.toJSONOptions = {\r\n    longs: String,\r\n    enums: String,\r\n    bytes: String,\r\n    json: true\r\n};\r\n\r\nutil._configure = function() {\r\n    var Buffer = util.Buffer;\r\n    /* istanbul ignore if */\r\n    if (!Buffer) {\r\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\r\n        return;\r\n    }\r\n    // because node 4.x buffers are incompatible & immutable\r\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\r\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\r\n        /* istanbul ignore next */\r\n        function Buffer_from(value, encoding) {\r\n            return new Buffer(value, encoding);\r\n        };\r\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\r\n        /* istanbul ignore next */\r\n        function Buffer_allocUnsafe(size) {\r\n            return new Buffer(size);\r\n        };\r\n};\r\n","\"use strict\";\r\n\r\n/**\r\n * Streaming RPC helpers.\r\n * @namespace\r\n */\r\nvar rpc = exports;\r\n\r\n/**\r\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\r\n * @typedef RPCImpl\r\n * @type {function}\r\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\r\n * @param {Uint8Array} requestData Request data\r\n * @param {RPCImplCallback} callback Callback function\r\n * @returns {undefined}\r\n * @example\r\n * function rpcImpl(method, requestData, callback) {\r\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\r\n *         throw Error(\"no such method\");\r\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\r\n *         callback(err, responseData);\r\n *     });\r\n * }\r\n */\r\n\r\n/**\r\n * Node-style callback as used by {@link RPCImpl}.\r\n * @typedef RPCImplCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any, otherwise `null`\r\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\r\n * @returns {undefined}\r\n */\r\n\r\nrpc.Service = require(\"./rpc/service\");\r\n","\"use strict\";\r\nvar protobuf = exports;\r\n\r\n/**\r\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\r\n * @name build\r\n * @type {string}\r\n * @const\r\n */\r\nprotobuf.build = \"minimal\";\r\n\r\n// Serialization\r\nprotobuf.Writer       = require(\"./writer\");\r\nprotobuf.BufferWriter = require(\"./writer_buffer\");\r\nprotobuf.Reader       = require(\"./reader\");\r\nprotobuf.BufferReader = require(\"./reader_buffer\");\r\n\r\n// Utility\r\nprotobuf.util         = require(\"./util/minimal\");\r\nprotobuf.rpc          = require(\"./rpc\");\r\nprotobuf.roots        = require(\"./roots\");\r\nprotobuf.configure    = configure;\r\n\r\n/* istanbul ignore next */\r\n/**\r\n * Reconfigures the library according to the environment.\r\n * @returns {undefined}\r\n */\r\nfunction configure() {\r\n    protobuf.Reader._configure(protobuf.BufferReader);\r\n    protobuf.util._configure();\r\n}\r\n\r\n// Configure serialization\r\nprotobuf.Writer._configure(protobuf.BufferWriter);\r\nconfigure();\r\n","/*eslint-disable block-scoped-var, no-redeclare, no-control-regex, no-prototype-builtins*/\nimport * as $protobuf from \"protobufjs/minimal\";\n\n// Common aliases\nvar $Reader = $protobuf.Reader,\n    $Writer = $protobuf.Writer,\n    $util = $protobuf.util;\n\n// Exported root namespace\nvar $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport var Message = $root.Message = function () {\n\n    /**\n     * Properties of a Message.\n     * @exports IMessage\n     * @interface IMessage\n     * @property {number} [senderId] Message senderId\n     * @property {number} [recipientId] Message recipientId\n     * @property {boolean} [isService] Message isService\n     * @property {Uint8Array} [content] Message content\n     */\n\n    /**\n     * Constructs a new Message.\n     * @exports Message\n     * @classdesc Represents a Message.\n     * @constructor\n     * @param {IMessage=} [properties] Properties to set\n     */\n    function Message(properties) {\n        if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n            if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n        }\n    }\n\n    /**\n     * Message senderId.\n     * @member {number}senderId\n     * @memberof Message\n     * @instance\n     */\n    Message.prototype.senderId = 0;\n\n    /**\n     * Message recipientId.\n     * @member {number}recipientId\n     * @memberof Message\n     * @instance\n     */\n    Message.prototype.recipientId = 0;\n\n    /**\n     * Message isService.\n     * @member {boolean}isService\n     * @memberof Message\n     * @instance\n     */\n    Message.prototype.isService = false;\n\n    /**\n     * Message content.\n     * @member {Uint8Array}content\n     * @memberof Message\n     * @instance\n     */\n    Message.prototype.content = $util.newBuffer([]);\n\n    /**\n     * Creates a new Message instance using the specified properties.\n     * @function create\n     * @memberof Message\n     * @static\n     * @param {IMessage=} [properties] Properties to set\n     * @returns {Message} Message instance\n     */\n    Message.create = function create(properties) {\n        return new Message(properties);\n    };\n\n    /**\n     * Encodes the specified Message message. Does not implicitly {@link Message.verify|verify} messages.\n     * @function encode\n     * @memberof Message\n     * @static\n     * @param {IMessage} message Message message or plain object to encode\n     * @param {$protobuf.Writer} [writer] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Message.encode = function encode(message, writer) {\n        if (!writer) writer = $Writer.create();\n        if (message.senderId != null && message.hasOwnProperty(\"senderId\")) writer.uint32( /* id 1, wireType 0 =*/8).uint32(message.senderId);\n        if (message.recipientId != null && message.hasOwnProperty(\"recipientId\")) writer.uint32( /* id 2, wireType 0 =*/16).uint32(message.recipientId);\n        if (message.isService != null && message.hasOwnProperty(\"isService\")) writer.uint32( /* id 3, wireType 0 =*/24).bool(message.isService);\n        if (message.content != null && message.hasOwnProperty(\"content\")) writer.uint32( /* id 4, wireType 2 =*/34).bytes(message.content);\n        return writer;\n    };\n\n    /**\n     * Decodes a Message message from the specified reader or buffer.\n     * @function decode\n     * @memberof Message\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n     * @param {number} [length] Message length if known beforehand\n     * @returns {Message} Message\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Message.decode = function decode(reader, length) {\n        if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n        var end = length === undefined ? reader.len : reader.pos + length,\n            message = new $root.Message();\n        while (reader.pos < end) {\n            var tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.senderId = reader.uint32();\n                    break;\n                case 2:\n                    message.recipientId = reader.uint32();\n                    break;\n                case 3:\n                    message.isService = reader.bool();\n                    break;\n                case 4:\n                    message.content = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    };\n\n    return Message;\n}();\n\nexport var user = $root.user = function () {\n\n    /**\n     * Namespace user.\n     * @exports user\n     * @namespace\n     */\n    var user = {};\n\n    user.Message = function () {\n\n        /**\n         * Properties of a Message.\n         * @memberof user\n         * @interface IMessage\n         * @property {number} [length] Message length\n         * @property {user.Message.Type} [type] Message type\n         * @property {Uint8Array} [full] Message full\n         * @property {user.Message.IChunk} [chunk] Message chunk\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof user\n         * @classdesc Represents a Message.\n         * @constructor\n         * @param {user.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Message length.\n         * @member {number}length\n         * @memberof user.Message\n         * @instance\n         */\n        Message.prototype.length = 0;\n\n        /**\n         * Message type.\n         * @member {user.Message.Type}type\n         * @memberof user.Message\n         * @instance\n         */\n        Message.prototype.type = 0;\n\n        /**\n         * Message full.\n         * @member {Uint8Array}full\n         * @memberof user.Message\n         * @instance\n         */\n        Message.prototype.full = $util.newBuffer([]);\n\n        /**\n         * Message chunk.\n         * @member {(user.Message.IChunk|null|undefined)}chunk\n         * @memberof user.Message\n         * @instance\n         */\n        Message.prototype.chunk = null;\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields = void 0;\n\n        /**\n         * Message content.\n         * @member {string|undefined} content\n         * @memberof user.Message\n         * @instance\n         */\n        Object.defineProperty(Message.prototype, \"content\", {\n            get: $util.oneOfGetter($oneOfFields = [\"full\", \"chunk\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Creates a new Message instance using the specified properties.\n         * @function create\n         * @memberof user.Message\n         * @static\n         * @param {user.IMessage=} [properties] Properties to set\n         * @returns {user.Message} Message instance\n         */\n        Message.create = function create(properties) {\n            return new Message(properties);\n        };\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link user.Message.verify|verify} messages.\n         * @function encode\n         * @memberof user.Message\n         * @static\n         * @param {user.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.length != null && message.hasOwnProperty(\"length\")) writer.uint32( /* id 1, wireType 0 =*/8).uint32(message.length);\n            if (message.type != null && message.hasOwnProperty(\"type\")) writer.uint32( /* id 2, wireType 0 =*/16).int32(message.type);\n            if (message.full != null && message.hasOwnProperty(\"full\")) writer.uint32( /* id 3, wireType 2 =*/26).bytes(message.full);\n            if (message.chunk != null && message.hasOwnProperty(\"chunk\")) $root.user.Message.Chunk.encode(message.chunk, writer.uint32( /* id 4, wireType 2 =*/34).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof user.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {user.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.user.Message();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.length = reader.uint32();\n                        break;\n                    case 2:\n                        message.type = reader.int32();\n                        break;\n                    case 3:\n                        message.full = reader.bytes();\n                        break;\n                    case 4:\n                        message.chunk = $root.user.Message.Chunk.decode(reader, reader.uint32());\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        Message.Chunk = function () {\n\n            /**\n             * Properties of a Chunk.\n             * @memberof user.Message\n             * @interface IChunk\n             * @property {number} [id] Chunk id\n             * @property {number} [number] Chunk number\n             * @property {Uint8Array} [content] Chunk content\n             */\n\n            /**\n             * Constructs a new Chunk.\n             * @memberof user.Message\n             * @classdesc Represents a Chunk.\n             * @constructor\n             * @param {user.Message.IChunk=} [properties] Properties to set\n             */\n            function Chunk(properties) {\n                if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                    if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n                }\n            }\n\n            /**\n             * Chunk id.\n             * @member {number}id\n             * @memberof user.Message.Chunk\n             * @instance\n             */\n            Chunk.prototype.id = 0;\n\n            /**\n             * Chunk number.\n             * @member {number}number\n             * @memberof user.Message.Chunk\n             * @instance\n             */\n            Chunk.prototype.number = 0;\n\n            /**\n             * Chunk content.\n             * @member {Uint8Array}content\n             * @memberof user.Message.Chunk\n             * @instance\n             */\n            Chunk.prototype.content = $util.newBuffer([]);\n\n            /**\n             * Creates a new Chunk instance using the specified properties.\n             * @function create\n             * @memberof user.Message.Chunk\n             * @static\n             * @param {user.Message.IChunk=} [properties] Properties to set\n             * @returns {user.Message.Chunk} Chunk instance\n             */\n            Chunk.create = function create(properties) {\n                return new Chunk(properties);\n            };\n\n            /**\n             * Encodes the specified Chunk message. Does not implicitly {@link user.Message.Chunk.verify|verify} messages.\n             * @function encode\n             * @memberof user.Message.Chunk\n             * @static\n             * @param {user.Message.IChunk} message Chunk message or plain object to encode\n             * @param {$protobuf.Writer} [writer] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            Chunk.encode = function encode(message, writer) {\n                if (!writer) writer = $Writer.create();\n                if (message.id != null && message.hasOwnProperty(\"id\")) writer.uint32( /* id 1, wireType 0 =*/8).uint32(message.id);\n                if (message.number != null && message.hasOwnProperty(\"number\")) writer.uint32( /* id 2, wireType 0 =*/16).uint32(message.number);\n                if (message.content != null && message.hasOwnProperty(\"content\")) writer.uint32( /* id 4, wireType 2 =*/34).bytes(message.content);\n                return writer;\n            };\n\n            /**\n             * Decodes a Chunk message from the specified reader or buffer.\n             * @function decode\n             * @memberof user.Message.Chunk\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n             * @param {number} [length] Message length if known beforehand\n             * @returns {user.Message.Chunk} Chunk\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            Chunk.decode = function decode(reader, length) {\n                if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n                var end = length === undefined ? reader.len : reader.pos + length,\n                    message = new $root.user.Message.Chunk();\n                while (reader.pos < end) {\n                    var tag = reader.uint32();\n                    switch (tag >>> 3) {\n                        case 1:\n                            message.id = reader.uint32();\n                            break;\n                        case 2:\n                            message.number = reader.uint32();\n                            break;\n                        case 4:\n                            message.content = reader.bytes();\n                            break;\n                        default:\n                            reader.skipType(tag & 7);\n                            break;\n                    }\n                }\n                return message;\n            };\n\n            return Chunk;\n        }();\n\n        /**\n         * Type enum.\n         * @enum {string}\n         * @property {number} STRING=0 STRING value\n         * @property {number} U_INT_8_ARRAY=1 U_INT_8_ARRAY value\n         */\n        Message.Type = function () {\n            var valuesById = {},\n                values = Object.create(valuesById);\n            values[valuesById[0] = \"STRING\"] = 0;\n            values[valuesById[1] = \"U_INT_8_ARRAY\"] = 1;\n            return values;\n        }();\n\n        return Message;\n    }();\n\n    return user;\n}();\n\nexport var service = $root.service = function () {\n\n    /**\n     * Namespace service.\n     * @exports service\n     * @namespace\n     */\n    var service = {};\n\n    service.Message = function () {\n\n        /**\n         * Properties of a Message.\n         * @memberof service\n         * @interface IMessage\n         * @property {number} [id] Message id\n         * @property {Uint8Array} [content] Message content\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof service\n         * @classdesc Represents a Message.\n         * @constructor\n         * @param {service.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Message id.\n         * @member {number}id\n         * @memberof service.Message\n         * @instance\n         */\n        Message.prototype.id = 0;\n\n        /**\n         * Message content.\n         * @member {Uint8Array}content\n         * @memberof service.Message\n         * @instance\n         */\n        Message.prototype.content = $util.newBuffer([]);\n\n        /**\n         * Creates a new Message instance using the specified properties.\n         * @function create\n         * @memberof service.Message\n         * @static\n         * @param {service.IMessage=} [properties] Properties to set\n         * @returns {service.Message} Message instance\n         */\n        Message.create = function create(properties) {\n            return new Message(properties);\n        };\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link service.Message.verify|verify} messages.\n         * @function encode\n         * @memberof service.Message\n         * @static\n         * @param {service.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.id != null && message.hasOwnProperty(\"id\")) writer.uint32( /* id 1, wireType 0 =*/8).uint32(message.id);\n            if (message.content != null && message.hasOwnProperty(\"content\")) writer.uint32( /* id 2, wireType 2 =*/18).bytes(message.content);\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof service.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {service.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.service.Message();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.id = reader.uint32();\n                        break;\n                    case 2:\n                        message.content = reader.bytes();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Message;\n    }();\n\n    return service;\n}();\n\nexport var webChannel = $root.webChannel = function () {\n\n    /**\n     * Namespace webChannel.\n     * @exports webChannel\n     * @namespace\n     */\n    var webChannel = {};\n\n    webChannel.Message = function () {\n\n        /**\n         * Properties of a Message.\n         * @memberof webChannel\n         * @interface IMessage\n         * @property {webChannel.IInitData} [init] Message init\n         * @property {webChannel.IPeers} [initOk] Message initOk\n         * @property {boolean} [ping] Message ping\n         * @property {boolean} [pong] Message pong\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof webChannel\n         * @classdesc Represents a Message.\n         * @constructor\n         * @param {webChannel.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Message init.\n         * @member {(webChannel.IInitData|null|undefined)}init\n         * @memberof webChannel.Message\n         * @instance\n         */\n        Message.prototype.init = null;\n\n        /**\n         * Message initOk.\n         * @member {(webChannel.IPeers|null|undefined)}initOk\n         * @memberof webChannel.Message\n         * @instance\n         */\n        Message.prototype.initOk = null;\n\n        /**\n         * Message ping.\n         * @member {boolean}ping\n         * @memberof webChannel.Message\n         * @instance\n         */\n        Message.prototype.ping = false;\n\n        /**\n         * Message pong.\n         * @member {boolean}pong\n         * @memberof webChannel.Message\n         * @instance\n         */\n        Message.prototype.pong = false;\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields = void 0;\n\n        /**\n         * Message type.\n         * @member {string|undefined} type\n         * @memberof webChannel.Message\n         * @instance\n         */\n        Object.defineProperty(Message.prototype, \"type\", {\n            get: $util.oneOfGetter($oneOfFields = [\"init\", \"initOk\", \"ping\", \"pong\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Creates a new Message instance using the specified properties.\n         * @function create\n         * @memberof webChannel.Message\n         * @static\n         * @param {webChannel.IMessage=} [properties] Properties to set\n         * @returns {webChannel.Message} Message instance\n         */\n        Message.create = function create(properties) {\n            return new Message(properties);\n        };\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link webChannel.Message.verify|verify} messages.\n         * @function encode\n         * @memberof webChannel.Message\n         * @static\n         * @param {webChannel.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.init != null && message.hasOwnProperty(\"init\")) $root.webChannel.InitData.encode(message.init, writer.uint32( /* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.initOk != null && message.hasOwnProperty(\"initOk\")) $root.webChannel.Peers.encode(message.initOk, writer.uint32( /* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.ping != null && message.hasOwnProperty(\"ping\")) writer.uint32( /* id 3, wireType 0 =*/24).bool(message.ping);\n            if (message.pong != null && message.hasOwnProperty(\"pong\")) writer.uint32( /* id 4, wireType 0 =*/32).bool(message.pong);\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof webChannel.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {webChannel.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.webChannel.Message();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.init = $root.webChannel.InitData.decode(reader, reader.uint32());\n                        break;\n                    case 2:\n                        message.initOk = $root.webChannel.Peers.decode(reader, reader.uint32());\n                        break;\n                    case 3:\n                        message.ping = reader.bool();\n                        break;\n                    case 4:\n                        message.pong = reader.bool();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Message;\n    }();\n\n    webChannel.InitData = function () {\n\n        /**\n         * Properties of an InitData.\n         * @memberof webChannel\n         * @interface IInitData\n         * @property {number} [topology] InitData topology\n         * @property {number} [wcId] InitData wcId\n         * @property {Array.<number>} [generatedIds] InitData generatedIds\n         */\n\n        /**\n         * Constructs a new InitData.\n         * @memberof webChannel\n         * @classdesc Represents an InitData.\n         * @constructor\n         * @param {webChannel.IInitData=} [properties] Properties to set\n         */\n        function InitData(properties) {\n            this.generatedIds = [];\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * InitData topology.\n         * @member {number}topology\n         * @memberof webChannel.InitData\n         * @instance\n         */\n        InitData.prototype.topology = 0;\n\n        /**\n         * InitData wcId.\n         * @member {number}wcId\n         * @memberof webChannel.InitData\n         * @instance\n         */\n        InitData.prototype.wcId = 0;\n\n        /**\n         * InitData generatedIds.\n         * @member {Array.<number>}generatedIds\n         * @memberof webChannel.InitData\n         * @instance\n         */\n        InitData.prototype.generatedIds = $util.emptyArray;\n\n        /**\n         * Creates a new InitData instance using the specified properties.\n         * @function create\n         * @memberof webChannel.InitData\n         * @static\n         * @param {webChannel.IInitData=} [properties] Properties to set\n         * @returns {webChannel.InitData} InitData instance\n         */\n        InitData.create = function create(properties) {\n            return new InitData(properties);\n        };\n\n        /**\n         * Encodes the specified InitData message. Does not implicitly {@link webChannel.InitData.verify|verify} messages.\n         * @function encode\n         * @memberof webChannel.InitData\n         * @static\n         * @param {webChannel.IInitData} message InitData message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        InitData.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.topology != null && message.hasOwnProperty(\"topology\")) writer.uint32( /* id 1, wireType 0 =*/8).uint32(message.topology);\n            if (message.wcId != null && message.hasOwnProperty(\"wcId\")) writer.uint32( /* id 2, wireType 0 =*/16).uint32(message.wcId);\n            if (message.generatedIds != null && message.generatedIds.length) {\n                writer.uint32( /* id 3, wireType 2 =*/26).fork();\n                for (var i = 0; i < message.generatedIds.length; ++i) {\n                    writer.uint32(message.generatedIds[i]);\n                }writer.ldelim();\n            }\n            return writer;\n        };\n\n        /**\n         * Decodes an InitData message from the specified reader or buffer.\n         * @function decode\n         * @memberof webChannel.InitData\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {webChannel.InitData} InitData\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        InitData.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.webChannel.InitData();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.topology = reader.uint32();\n                        break;\n                    case 2:\n                        message.wcId = reader.uint32();\n                        break;\n                    case 3:\n                        if (!(message.generatedIds && message.generatedIds.length)) message.generatedIds = [];\n                        if ((tag & 7) === 2) {\n                            var end2 = reader.uint32() + reader.pos;\n                            while (reader.pos < end2) {\n                                message.generatedIds.push(reader.uint32());\n                            }\n                        } else message.generatedIds.push(reader.uint32());\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return InitData;\n    }();\n\n    webChannel.Peers = function () {\n\n        /**\n         * Properties of a Peers.\n         * @memberof webChannel\n         * @interface IPeers\n         * @property {Array.<number>} [members] Peers members\n         */\n\n        /**\n         * Constructs a new Peers.\n         * @memberof webChannel\n         * @classdesc Represents a Peers.\n         * @constructor\n         * @param {webChannel.IPeers=} [properties] Properties to set\n         */\n        function Peers(properties) {\n            this.members = [];\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Peers members.\n         * @member {Array.<number>}members\n         * @memberof webChannel.Peers\n         * @instance\n         */\n        Peers.prototype.members = $util.emptyArray;\n\n        /**\n         * Creates a new Peers instance using the specified properties.\n         * @function create\n         * @memberof webChannel.Peers\n         * @static\n         * @param {webChannel.IPeers=} [properties] Properties to set\n         * @returns {webChannel.Peers} Peers instance\n         */\n        Peers.create = function create(properties) {\n            return new Peers(properties);\n        };\n\n        /**\n         * Encodes the specified Peers message. Does not implicitly {@link webChannel.Peers.verify|verify} messages.\n         * @function encode\n         * @memberof webChannel.Peers\n         * @static\n         * @param {webChannel.IPeers} message Peers message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Peers.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.members != null && message.members.length) {\n                writer.uint32( /* id 1, wireType 2 =*/10).fork();\n                for (var i = 0; i < message.members.length; ++i) {\n                    writer.uint32(message.members[i]);\n                }writer.ldelim();\n            }\n            return writer;\n        };\n\n        /**\n         * Decodes a Peers message from the specified reader or buffer.\n         * @function decode\n         * @memberof webChannel.Peers\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {webChannel.Peers} Peers\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Peers.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.webChannel.Peers();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        if (!(message.members && message.members.length)) message.members = [];\n                        if ((tag & 7) === 2) {\n                            var end2 = reader.uint32() + reader.pos;\n                            while (reader.pos < end2) {\n                                message.members.push(reader.uint32());\n                            }\n                        } else message.members.push(reader.uint32());\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Peers;\n    }();\n\n    return webChannel;\n}();\n\nexport var channelBuilder = $root.channelBuilder = function () {\n\n    /**\n     * Namespace channelBuilder.\n     * @exports channelBuilder\n     * @namespace\n     */\n    var channelBuilder = {};\n\n    channelBuilder.Message = function () {\n\n        /**\n         * Properties of a Message.\n         * @memberof channelBuilder\n         * @interface IMessage\n         * @property {channelBuilder.IConnection} [request] Message request\n         * @property {channelBuilder.IConnection} [response] Message response\n         * @property {string} [failed] Message failed\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof channelBuilder\n         * @classdesc Represents a Message.\n         * @constructor\n         * @param {channelBuilder.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Message request.\n         * @member {(channelBuilder.IConnection|null|undefined)}request\n         * @memberof channelBuilder.Message\n         * @instance\n         */\n        Message.prototype.request = null;\n\n        /**\n         * Message response.\n         * @member {(channelBuilder.IConnection|null|undefined)}response\n         * @memberof channelBuilder.Message\n         * @instance\n         */\n        Message.prototype.response = null;\n\n        /**\n         * Message failed.\n         * @member {string}failed\n         * @memberof channelBuilder.Message\n         * @instance\n         */\n        Message.prototype.failed = \"\";\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields = void 0;\n\n        /**\n         * Message type.\n         * @member {string|undefined} type\n         * @memberof channelBuilder.Message\n         * @instance\n         */\n        Object.defineProperty(Message.prototype, \"type\", {\n            get: $util.oneOfGetter($oneOfFields = [\"request\", \"response\", \"failed\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Creates a new Message instance using the specified properties.\n         * @function create\n         * @memberof channelBuilder.Message\n         * @static\n         * @param {channelBuilder.IMessage=} [properties] Properties to set\n         * @returns {channelBuilder.Message} Message instance\n         */\n        Message.create = function create(properties) {\n            return new Message(properties);\n        };\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link channelBuilder.Message.verify|verify} messages.\n         * @function encode\n         * @memberof channelBuilder.Message\n         * @static\n         * @param {channelBuilder.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.request != null && message.hasOwnProperty(\"request\")) $root.channelBuilder.Connection.encode(message.request, writer.uint32( /* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.response != null && message.hasOwnProperty(\"response\")) $root.channelBuilder.Connection.encode(message.response, writer.uint32( /* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.failed != null && message.hasOwnProperty(\"failed\")) writer.uint32( /* id 3, wireType 2 =*/26).string(message.failed);\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof channelBuilder.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {channelBuilder.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.channelBuilder.Message();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.request = $root.channelBuilder.Connection.decode(reader, reader.uint32());\n                        break;\n                    case 2:\n                        message.response = $root.channelBuilder.Connection.decode(reader, reader.uint32());\n                        break;\n                    case 3:\n                        message.failed = reader.string();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Message;\n    }();\n\n    channelBuilder.Connection = function () {\n\n        /**\n         * Properties of a Connection.\n         * @memberof channelBuilder\n         * @interface IConnection\n         * @property {string} [wsUrl] Connection wsUrl\n         * @property {boolean} [isWrtcSupport] Connection isWrtcSupport\n         */\n\n        /**\n         * Constructs a new Connection.\n         * @memberof channelBuilder\n         * @classdesc Represents a Connection.\n         * @constructor\n         * @param {channelBuilder.IConnection=} [properties] Properties to set\n         */\n        function Connection(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Connection wsUrl.\n         * @member {string}wsUrl\n         * @memberof channelBuilder.Connection\n         * @instance\n         */\n        Connection.prototype.wsUrl = \"\";\n\n        /**\n         * Connection isWrtcSupport.\n         * @member {boolean}isWrtcSupport\n         * @memberof channelBuilder.Connection\n         * @instance\n         */\n        Connection.prototype.isWrtcSupport = false;\n\n        /**\n         * Creates a new Connection instance using the specified properties.\n         * @function create\n         * @memberof channelBuilder.Connection\n         * @static\n         * @param {channelBuilder.IConnection=} [properties] Properties to set\n         * @returns {channelBuilder.Connection} Connection instance\n         */\n        Connection.create = function create(properties) {\n            return new Connection(properties);\n        };\n\n        /**\n         * Encodes the specified Connection message. Does not implicitly {@link channelBuilder.Connection.verify|verify} messages.\n         * @function encode\n         * @memberof channelBuilder.Connection\n         * @static\n         * @param {channelBuilder.IConnection} message Connection message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Connection.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.wsUrl != null && message.hasOwnProperty(\"wsUrl\")) writer.uint32( /* id 1, wireType 2 =*/10).string(message.wsUrl);\n            if (message.isWrtcSupport != null && message.hasOwnProperty(\"isWrtcSupport\")) writer.uint32( /* id 2, wireType 0 =*/16).bool(message.isWrtcSupport);\n            return writer;\n        };\n\n        /**\n         * Decodes a Connection message from the specified reader or buffer.\n         * @function decode\n         * @memberof channelBuilder.Connection\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {channelBuilder.Connection} Connection\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Connection.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.channelBuilder.Connection();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.wsUrl = reader.string();\n                        break;\n                    case 2:\n                        message.isWrtcSupport = reader.bool();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Connection;\n    }();\n\n    return channelBuilder;\n}();\n\nexport var fullMesh = $root.fullMesh = function () {\n\n    /**\n     * Namespace fullMesh.\n     * @exports fullMesh\n     * @namespace\n     */\n    var fullMesh = {};\n\n    fullMesh.Message = function () {\n\n        /**\n         * Properties of a Message.\n         * @memberof fullMesh\n         * @interface IMessage\n         * @property {fullMesh.IPeers} [connectTo] Message connectTo\n         * @property {fullMesh.IPeers} [connectedTo] Message connectedTo\n         * @property {number} [joiningPeerId] Message joiningPeerId\n         * @property {boolean} [joinSucceed] Message joinSucceed\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof fullMesh\n         * @classdesc Represents a Message.\n         * @constructor\n         * @param {fullMesh.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Message connectTo.\n         * @member {(fullMesh.IPeers|null|undefined)}connectTo\n         * @memberof fullMesh.Message\n         * @instance\n         */\n        Message.prototype.connectTo = null;\n\n        /**\n         * Message connectedTo.\n         * @member {(fullMesh.IPeers|null|undefined)}connectedTo\n         * @memberof fullMesh.Message\n         * @instance\n         */\n        Message.prototype.connectedTo = null;\n\n        /**\n         * Message joiningPeerId.\n         * @member {number}joiningPeerId\n         * @memberof fullMesh.Message\n         * @instance\n         */\n        Message.prototype.joiningPeerId = 0;\n\n        /**\n         * Message joinSucceed.\n         * @member {boolean}joinSucceed\n         * @memberof fullMesh.Message\n         * @instance\n         */\n        Message.prototype.joinSucceed = false;\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields = void 0;\n\n        /**\n         * Message type.\n         * @member {string|undefined} type\n         * @memberof fullMesh.Message\n         * @instance\n         */\n        Object.defineProperty(Message.prototype, \"type\", {\n            get: $util.oneOfGetter($oneOfFields = [\"connectTo\", \"connectedTo\", \"joiningPeerId\", \"joinSucceed\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Creates a new Message instance using the specified properties.\n         * @function create\n         * @memberof fullMesh.Message\n         * @static\n         * @param {fullMesh.IMessage=} [properties] Properties to set\n         * @returns {fullMesh.Message} Message instance\n         */\n        Message.create = function create(properties) {\n            return new Message(properties);\n        };\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link fullMesh.Message.verify|verify} messages.\n         * @function encode\n         * @memberof fullMesh.Message\n         * @static\n         * @param {fullMesh.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.connectTo != null && message.hasOwnProperty(\"connectTo\")) $root.fullMesh.Peers.encode(message.connectTo, writer.uint32( /* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.connectedTo != null && message.hasOwnProperty(\"connectedTo\")) $root.fullMesh.Peers.encode(message.connectedTo, writer.uint32( /* id 2, wireType 2 =*/18).fork()).ldelim();\n            if (message.joiningPeerId != null && message.hasOwnProperty(\"joiningPeerId\")) writer.uint32( /* id 3, wireType 0 =*/24).uint32(message.joiningPeerId);\n            if (message.joinSucceed != null && message.hasOwnProperty(\"joinSucceed\")) writer.uint32( /* id 4, wireType 0 =*/32).bool(message.joinSucceed);\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof fullMesh.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {fullMesh.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.fullMesh.Message();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.connectTo = $root.fullMesh.Peers.decode(reader, reader.uint32());\n                        break;\n                    case 2:\n                        message.connectedTo = $root.fullMesh.Peers.decode(reader, reader.uint32());\n                        break;\n                    case 3:\n                        message.joiningPeerId = reader.uint32();\n                        break;\n                    case 4:\n                        message.joinSucceed = reader.bool();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Message;\n    }();\n\n    fullMesh.Peers = function () {\n\n        /**\n         * Properties of a Peers.\n         * @memberof fullMesh\n         * @interface IPeers\n         * @property {Array.<number>} [members] Peers members\n         */\n\n        /**\n         * Constructs a new Peers.\n         * @memberof fullMesh\n         * @classdesc Represents a Peers.\n         * @constructor\n         * @param {fullMesh.IPeers=} [properties] Properties to set\n         */\n        function Peers(properties) {\n            this.members = [];\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Peers members.\n         * @member {Array.<number>}members\n         * @memberof fullMesh.Peers\n         * @instance\n         */\n        Peers.prototype.members = $util.emptyArray;\n\n        /**\n         * Creates a new Peers instance using the specified properties.\n         * @function create\n         * @memberof fullMesh.Peers\n         * @static\n         * @param {fullMesh.IPeers=} [properties] Properties to set\n         * @returns {fullMesh.Peers} Peers instance\n         */\n        Peers.create = function create(properties) {\n            return new Peers(properties);\n        };\n\n        /**\n         * Encodes the specified Peers message. Does not implicitly {@link fullMesh.Peers.verify|verify} messages.\n         * @function encode\n         * @memberof fullMesh.Peers\n         * @static\n         * @param {fullMesh.IPeers} message Peers message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Peers.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.members != null && message.members.length) {\n                writer.uint32( /* id 1, wireType 2 =*/10).fork();\n                for (var i = 0; i < message.members.length; ++i) {\n                    writer.uint32(message.members[i]);\n                }writer.ldelim();\n            }\n            return writer;\n        };\n\n        /**\n         * Decodes a Peers message from the specified reader or buffer.\n         * @function decode\n         * @memberof fullMesh.Peers\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {fullMesh.Peers} Peers\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Peers.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.fullMesh.Peers();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        if (!(message.members && message.members.length)) message.members = [];\n                        if ((tag & 7) === 2) {\n                            var end2 = reader.uint32() + reader.pos;\n                            while (reader.pos < end2) {\n                                message.members.push(reader.uint32());\n                            }\n                        } else message.members.push(reader.uint32());\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Peers;\n    }();\n\n    return fullMesh;\n}();\n\nexport var webRTCBuilder = $root.webRTCBuilder = function () {\n\n    /**\n     * Namespace webRTCBuilder.\n     * @exports webRTCBuilder\n     * @namespace\n     */\n    var webRTCBuilder = {};\n\n    webRTCBuilder.Message = function () {\n\n        /**\n         * Properties of a Message.\n         * @memberof webRTCBuilder\n         * @interface IMessage\n         * @property {boolean} [isInitiator] Message isInitiator\n         * @property {string} [offer] Message offer\n         * @property {string} [answer] Message answer\n         * @property {webRTCBuilder.IIceCandidate} [iceCandidate] Message iceCandidate\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof webRTCBuilder\n         * @classdesc Represents a Message.\n         * @constructor\n         * @param {webRTCBuilder.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Message isInitiator.\n         * @member {boolean}isInitiator\n         * @memberof webRTCBuilder.Message\n         * @instance\n         */\n        Message.prototype.isInitiator = false;\n\n        /**\n         * Message offer.\n         * @member {string}offer\n         * @memberof webRTCBuilder.Message\n         * @instance\n         */\n        Message.prototype.offer = \"\";\n\n        /**\n         * Message answer.\n         * @member {string}answer\n         * @memberof webRTCBuilder.Message\n         * @instance\n         */\n        Message.prototype.answer = \"\";\n\n        /**\n         * Message iceCandidate.\n         * @member {(webRTCBuilder.IIceCandidate|null|undefined)}iceCandidate\n         * @memberof webRTCBuilder.Message\n         * @instance\n         */\n        Message.prototype.iceCandidate = null;\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields = void 0;\n\n        /**\n         * Message type.\n         * @member {string|undefined} type\n         * @memberof webRTCBuilder.Message\n         * @instance\n         */\n        Object.defineProperty(Message.prototype, \"type\", {\n            get: $util.oneOfGetter($oneOfFields = [\"offer\", \"answer\", \"iceCandidate\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Creates a new Message instance using the specified properties.\n         * @function create\n         * @memberof webRTCBuilder.Message\n         * @static\n         * @param {webRTCBuilder.IMessage=} [properties] Properties to set\n         * @returns {webRTCBuilder.Message} Message instance\n         */\n        Message.create = function create(properties) {\n            return new Message(properties);\n        };\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link webRTCBuilder.Message.verify|verify} messages.\n         * @function encode\n         * @memberof webRTCBuilder.Message\n         * @static\n         * @param {webRTCBuilder.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.isInitiator != null && message.hasOwnProperty(\"isInitiator\")) writer.uint32( /* id 1, wireType 0 =*/8).bool(message.isInitiator);\n            if (message.offer != null && message.hasOwnProperty(\"offer\")) writer.uint32( /* id 2, wireType 2 =*/18).string(message.offer);\n            if (message.answer != null && message.hasOwnProperty(\"answer\")) writer.uint32( /* id 3, wireType 2 =*/26).string(message.answer);\n            if (message.iceCandidate != null && message.hasOwnProperty(\"iceCandidate\")) $root.webRTCBuilder.IceCandidate.encode(message.iceCandidate, writer.uint32( /* id 4, wireType 2 =*/34).fork()).ldelim();\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof webRTCBuilder.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {webRTCBuilder.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.webRTCBuilder.Message();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.isInitiator = reader.bool();\n                        break;\n                    case 2:\n                        message.offer = reader.string();\n                        break;\n                    case 3:\n                        message.answer = reader.string();\n                        break;\n                    case 4:\n                        message.iceCandidate = $root.webRTCBuilder.IceCandidate.decode(reader, reader.uint32());\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Message;\n    }();\n\n    webRTCBuilder.IceCandidate = function () {\n\n        /**\n         * Properties of an IceCandidate.\n         * @memberof webRTCBuilder\n         * @interface IIceCandidate\n         * @property {string} [candidate] IceCandidate candidate\n         * @property {string} [sdpMid] IceCandidate sdpMid\n         * @property {number} [sdpMLineIndex] IceCandidate sdpMLineIndex\n         */\n\n        /**\n         * Constructs a new IceCandidate.\n         * @memberof webRTCBuilder\n         * @classdesc Represents an IceCandidate.\n         * @constructor\n         * @param {webRTCBuilder.IIceCandidate=} [properties] Properties to set\n         */\n        function IceCandidate(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * IceCandidate candidate.\n         * @member {string}candidate\n         * @memberof webRTCBuilder.IceCandidate\n         * @instance\n         */\n        IceCandidate.prototype.candidate = \"\";\n\n        /**\n         * IceCandidate sdpMid.\n         * @member {string}sdpMid\n         * @memberof webRTCBuilder.IceCandidate\n         * @instance\n         */\n        IceCandidate.prototype.sdpMid = \"\";\n\n        /**\n         * IceCandidate sdpMLineIndex.\n         * @member {number}sdpMLineIndex\n         * @memberof webRTCBuilder.IceCandidate\n         * @instance\n         */\n        IceCandidate.prototype.sdpMLineIndex = 0;\n\n        /**\n         * Creates a new IceCandidate instance using the specified properties.\n         * @function create\n         * @memberof webRTCBuilder.IceCandidate\n         * @static\n         * @param {webRTCBuilder.IIceCandidate=} [properties] Properties to set\n         * @returns {webRTCBuilder.IceCandidate} IceCandidate instance\n         */\n        IceCandidate.create = function create(properties) {\n            return new IceCandidate(properties);\n        };\n\n        /**\n         * Encodes the specified IceCandidate message. Does not implicitly {@link webRTCBuilder.IceCandidate.verify|verify} messages.\n         * @function encode\n         * @memberof webRTCBuilder.IceCandidate\n         * @static\n         * @param {webRTCBuilder.IIceCandidate} message IceCandidate message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        IceCandidate.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.candidate != null && message.hasOwnProperty(\"candidate\")) writer.uint32( /* id 1, wireType 2 =*/10).string(message.candidate);\n            if (message.sdpMid != null && message.hasOwnProperty(\"sdpMid\")) writer.uint32( /* id 2, wireType 2 =*/18).string(message.sdpMid);\n            if (message.sdpMLineIndex != null && message.hasOwnProperty(\"sdpMLineIndex\")) writer.uint32( /* id 3, wireType 0 =*/24).uint32(message.sdpMLineIndex);\n            return writer;\n        };\n\n        /**\n         * Decodes an IceCandidate message from the specified reader or buffer.\n         * @function decode\n         * @memberof webRTCBuilder.IceCandidate\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {webRTCBuilder.IceCandidate} IceCandidate\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        IceCandidate.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.webRTCBuilder.IceCandidate();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.candidate = reader.string();\n                        break;\n                    case 2:\n                        message.sdpMid = reader.string();\n                        break;\n                    case 3:\n                        message.sdpMLineIndex = reader.uint32();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return IceCandidate;\n    }();\n\n    return webRTCBuilder;\n}();\n\nexport var signaling = $root.signaling = function () {\n\n    /**\n     * Namespace signaling.\n     * @exports signaling\n     * @namespace\n     */\n    var signaling = {};\n\n    signaling.Message = function () {\n\n        /**\n         * Properties of a Message.\n         * @memberof signaling\n         * @interface IMessage\n         * @property {signaling.IContent} [content] Message content\n         * @property {boolean} [isFirst] Message isFirst\n         * @property {boolean} [joined] Message joined\n         * @property {boolean} [ping] Message ping\n         * @property {boolean} [pong] Message pong\n         */\n\n        /**\n         * Constructs a new Message.\n         * @memberof signaling\n         * @classdesc Represents a Message.\n         * @constructor\n         * @param {signaling.IMessage=} [properties] Properties to set\n         */\n        function Message(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Message content.\n         * @member {(signaling.IContent|null|undefined)}content\n         * @memberof signaling.Message\n         * @instance\n         */\n        Message.prototype.content = null;\n\n        /**\n         * Message isFirst.\n         * @member {boolean}isFirst\n         * @memberof signaling.Message\n         * @instance\n         */\n        Message.prototype.isFirst = false;\n\n        /**\n         * Message joined.\n         * @member {boolean}joined\n         * @memberof signaling.Message\n         * @instance\n         */\n        Message.prototype.joined = false;\n\n        /**\n         * Message ping.\n         * @member {boolean}ping\n         * @memberof signaling.Message\n         * @instance\n         */\n        Message.prototype.ping = false;\n\n        /**\n         * Message pong.\n         * @member {boolean}pong\n         * @memberof signaling.Message\n         * @instance\n         */\n        Message.prototype.pong = false;\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields = void 0;\n\n        /**\n         * Message type.\n         * @member {string|undefined} type\n         * @memberof signaling.Message\n         * @instance\n         */\n        Object.defineProperty(Message.prototype, \"type\", {\n            get: $util.oneOfGetter($oneOfFields = [\"content\", \"isFirst\", \"joined\", \"ping\", \"pong\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Creates a new Message instance using the specified properties.\n         * @function create\n         * @memberof signaling.Message\n         * @static\n         * @param {signaling.IMessage=} [properties] Properties to set\n         * @returns {signaling.Message} Message instance\n         */\n        Message.create = function create(properties) {\n            return new Message(properties);\n        };\n\n        /**\n         * Encodes the specified Message message. Does not implicitly {@link signaling.Message.verify|verify} messages.\n         * @function encode\n         * @memberof signaling.Message\n         * @static\n         * @param {signaling.IMessage} message Message message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Message.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.content != null && message.hasOwnProperty(\"content\")) $root.signaling.Content.encode(message.content, writer.uint32( /* id 1, wireType 2 =*/10).fork()).ldelim();\n            if (message.isFirst != null && message.hasOwnProperty(\"isFirst\")) writer.uint32( /* id 2, wireType 0 =*/16).bool(message.isFirst);\n            if (message.joined != null && message.hasOwnProperty(\"joined\")) writer.uint32( /* id 3, wireType 0 =*/24).bool(message.joined);\n            if (message.ping != null && message.hasOwnProperty(\"ping\")) writer.uint32( /* id 4, wireType 0 =*/32).bool(message.ping);\n            if (message.pong != null && message.hasOwnProperty(\"pong\")) writer.uint32( /* id 5, wireType 0 =*/40).bool(message.pong);\n            return writer;\n        };\n\n        /**\n         * Decodes a Message message from the specified reader or buffer.\n         * @function decode\n         * @memberof signaling.Message\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {signaling.Message} Message\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Message.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.signaling.Message();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.content = $root.signaling.Content.decode(reader, reader.uint32());\n                        break;\n                    case 2:\n                        message.isFirst = reader.bool();\n                        break;\n                    case 3:\n                        message.joined = reader.bool();\n                        break;\n                    case 4:\n                        message.ping = reader.bool();\n                        break;\n                    case 5:\n                        message.pong = reader.bool();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Message;\n    }();\n\n    signaling.Content = function () {\n\n        /**\n         * Properties of a Content.\n         * @memberof signaling\n         * @interface IContent\n         * @property {number} [id] Content id\n         * @property {boolean} [isEnd] Content isEnd\n         * @property {Uint8Array} [data] Content data\n         * @property {boolean} [isError] Content isError\n         */\n\n        /**\n         * Constructs a new Content.\n         * @memberof signaling\n         * @classdesc Represents a Content.\n         * @constructor\n         * @param {signaling.IContent=} [properties] Properties to set\n         */\n        function Content(properties) {\n            if (properties) for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i) {\n                if (properties[keys[i]] != null) this[keys[i]] = properties[keys[i]];\n            }\n        }\n\n        /**\n         * Content id.\n         * @member {number}id\n         * @memberof signaling.Content\n         * @instance\n         */\n        Content.prototype.id = 0;\n\n        /**\n         * Content isEnd.\n         * @member {boolean}isEnd\n         * @memberof signaling.Content\n         * @instance\n         */\n        Content.prototype.isEnd = false;\n\n        /**\n         * Content data.\n         * @member {Uint8Array}data\n         * @memberof signaling.Content\n         * @instance\n         */\n        Content.prototype.data = $util.newBuffer([]);\n\n        /**\n         * Content isError.\n         * @member {boolean}isError\n         * @memberof signaling.Content\n         * @instance\n         */\n        Content.prototype.isError = false;\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields = void 0;\n\n        /**\n         * Content type.\n         * @member {string|undefined} type\n         * @memberof signaling.Content\n         * @instance\n         */\n        Object.defineProperty(Content.prototype, \"type\", {\n            get: $util.oneOfGetter($oneOfFields = [\"data\", \"isError\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Creates a new Content instance using the specified properties.\n         * @function create\n         * @memberof signaling.Content\n         * @static\n         * @param {signaling.IContent=} [properties] Properties to set\n         * @returns {signaling.Content} Content instance\n         */\n        Content.create = function create(properties) {\n            return new Content(properties);\n        };\n\n        /**\n         * Encodes the specified Content message. Does not implicitly {@link signaling.Content.verify|verify} messages.\n         * @function encode\n         * @memberof signaling.Content\n         * @static\n         * @param {signaling.IContent} message Content message or plain object to encode\n         * @param {$protobuf.Writer} [writer] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Content.encode = function encode(message, writer) {\n            if (!writer) writer = $Writer.create();\n            if (message.id != null && message.hasOwnProperty(\"id\")) writer.uint32( /* id 1, wireType 0 =*/8).uint32(message.id);\n            if (message.isEnd != null && message.hasOwnProperty(\"isEnd\")) writer.uint32( /* id 2, wireType 0 =*/16).bool(message.isEnd);\n            if (message.data != null && message.hasOwnProperty(\"data\")) writer.uint32( /* id 3, wireType 2 =*/26).bytes(message.data);\n            if (message.isError != null && message.hasOwnProperty(\"isError\")) writer.uint32( /* id 4, wireType 0 =*/32).bool(message.isError);\n            return writer;\n        };\n\n        /**\n         * Decodes a Content message from the specified reader or buffer.\n         * @function decode\n         * @memberof signaling.Content\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} reader Reader or buffer to decode from\n         * @param {number} [length] Message length if known beforehand\n         * @returns {signaling.Content} Content\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Content.decode = function decode(reader, length) {\n            if (!(reader instanceof $Reader)) reader = $Reader.create(reader);\n            var end = length === undefined ? reader.len : reader.pos + length,\n                message = new $root.signaling.Content();\n            while (reader.pos < end) {\n                var tag = reader.uint32();\n                switch (tag >>> 3) {\n                    case 1:\n                        message.id = reader.uint32();\n                        break;\n                    case 2:\n                        message.isEnd = reader.bool();\n                        break;\n                    case 3:\n                        message.data = reader.bytes();\n                        break;\n                    case 4:\n                        message.isError = reader.bool();\n                        break;\n                    default:\n                        reader.skipType(tag & 7);\n                        break;\n                }\n            }\n            return message;\n        };\n\n        return Content;\n    }();\n\n    return signaling;\n}();\n\nexport { $root as default };\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        _super.call(this);\n        this._value = _value;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/* tslint:enable:max-line-length */\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * <img src=\"./img/filter.png\" width=\"100%\">\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * @example <caption>Emit only click events whose target was a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n * clicksOnDivs.subscribe(x => console.log(x));\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nfunction filter(predicate, thisArg) {\n    return this.lift(new FilterOperator(predicate, thisArg));\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.count = 0;\n    }\n    // the try catch block below is left specifically for\n    // optimization and perf reasons. a tryCatcher is not necessary here.\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar filter_1 = require('../../operator/filter');\nObservable_1.Observable.prototype.filter = filter_1.filter;\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        _super.call(this);\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription_1.Subscription));\nexports.Action = Action;\n//# sourceMappingURL=Action.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Action_1 = require('./Action');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return root_1.root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return root_1.root.clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_1.Action));\nexports.AsyncAction = AsyncAction;\n//# sourceMappingURL=AsyncAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncAction_1 = require('./AsyncAction');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = (function (_super) {\n    __extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction_1.AsyncAction));\nexports.QueueAction = QueueAction;\n//# sourceMappingURL=QueueAction.js.map","\"use strict\";\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Scheduler_1 = require('../Scheduler');\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        _super.apply(this, arguments);\n        this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        this.scheduled = undefined;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler_1.Scheduler));\nexports.AsyncScheduler = AsyncScheduler;\n//# sourceMappingURL=AsyncScheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar QueueScheduler = (function (_super) {\n    __extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        _super.apply(this, arguments);\n    }\n    return QueueScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.QueueScheduler = QueueScheduler;\n//# sourceMappingURL=QueueScheduler.js.map","\"use strict\";\nvar QueueAction_1 = require('./QueueAction');\nvar QueueScheduler_1 = require('./QueueScheduler');\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);\n//# sourceMappingURL=queue.js.map","\"use strict\";\nvar Observable_1 = require('./Observable');\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return Observable_1.Observable.of(this.value);\n            case 'E':\n                return Observable_1.Observable.throw(this.error);\n            case 'C':\n                return Observable_1.Observable.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return this.lift(new ObserveOnOperator(scheduler, delay));\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar queue_1 = require('./scheduler/queue');\nvar Subscription_1 = require('./Subscription');\nvar observeOn_1 = require('./operator/observeOn');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\n/**\n * @class ReplaySubject<T>\n */\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        _super.call(this);\n        this.scheduler = scheduler;\n        this._events = [];\n        this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        this._windowTime = windowTime < 1 ? 1 : windowTime;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var now = this._getNow();\n        this._events.push(new ReplayEvent(now, value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _events = this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n        }\n        var len = _events.length;\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n            subscriber.next(_events[i].value);\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue_1.queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        // Trim events that fall out of the time window.\n        // Start at the front of the list. Break early once\n        // we encounter an event that falls within the window.\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_1.Subject));\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map"],"names":["tryCatcher","tryCatchTarget","apply","this","arguments","e","errorObject_1","errorObject","flattenUnsubscriptionErrors","errors","reduce","errs","err","concat","UnsubscriptionError_1","UnsubscriptionError","EventEmitter","_listeners","factory","exports","Float32Array","writeFloat_f32_cpy","val","buf","pos","f32","f8b","writeFloat_f32_rev","readFloat_f32_cpy","readFloat_f32_rev","Uint8Array","buffer","le","writeFloatLE","writeFloatBE","readFloatLE","readFloatBE","writeFloat_ieee754","writeUint","sign","isNaN","Math","round","exponent","floor","log","LN2","pow","readFloat_ieee754","readUint","uint","mantissa","NaN","Infinity","bind","writeUintLE","writeUintBE","readUintLE","readUintBE","Float64Array","writeDouble_f64_cpy","f64","writeDouble_f64_rev","readDouble_f64_cpy","readDouble_f64_rev","writeDoubleLE","writeDoubleBE","readDoubleLE","readDoubleBE","writeDouble_ieee754","off0","off1","readDouble_ieee754","lo","hi","LongBits","Op","fn","len","next","undefined","noop","State","writer","head","tail","states","Writer","writeByte","VarintOp","writeVarint64","writeFixed32","BufferWriter","call","writeStringBuffer","length","util","utf8","write","utf8Write","indexOutOfRange","reader","writeLength","RangeError","Reader","readLongVarint","bits","i","Error","readFixed32_end","end","readFixed64","BufferReader","Service","rpcImpl","requestDelimited","responseDelimited","TypeError","Boolean","t","n","r","s","o","u","a","require","f","code","l","1","module","2","SDPUtils","generateIdentifier","random","toString","substr","localCName","splitLines","blob","trim","split","map","line","splitSections","part","index","matchPrefix","prefix","filter","indexOf","parseCandidate","parts","candidate","foundation","substring","component","parseInt","protocol","toLowerCase","priority","ip","port","type","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","sdp","push","toUpperCase","join","parseIceOptions","parseRtpMap","parsed","payloadType","shift","name","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","id","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","Object","keys","params","forEach","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","value","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","password","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","parse","stringify","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","obj","cname","rsize","reducedSize","compound","mux","parseMsid","spec","stream","track","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","version","writeMediaSection","transceiver","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","3","global","adapterFactory","window","self","./adapter_factory.js","4","dependencies","opts","options","shimChrome","shimFirefox","shimEdge","shimSafari","key","hasOwnProperty","utils","logging","browserDetails","detectBrowser","adapter","extractVersion","disableLog","disableWarnings","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","browser","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimCreateObjectURL","shimSourceObject","shimOnTrack","shimAddTrackRemoveTrack","shimGetSendersWithDtmf","shimRTCIceCandidate","shimReplaceTrack","shimRTCIceServerUrls","shimCallbacksAPI","shimLocalStreamsAPI","shimRemoteStreamsAPI","shimTrackEventTransceiver","./chrome/chrome_shim","./common_shim","./edge/edge_shim","./firefox/firefox_shim","./safari/safari_shim","./utils","5","MediaStream","webkitMediaStream","RTCPeerConnection","prototype","defineProperty","get","_ontrack","set","removeEventListener","addEventListener","origSetRemoteDescription","setRemoteDescription","pc","_ontrackpoly","te","receiver","getReceivers","find","event","Event","streams","dispatchEvent","getTracks","shimSenderWithDtmf","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","slice","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","idx","splice","origAddStream","addStream","origRemoveStream","removeStream","_streams","RTCRtpSender","origGetSenders","senders","URL","HTMLMediaElement","_srcObject","src","revokeObjectURL","createObjectURL","replaceInternalStreamId","_reverseStreams","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","replaceExternalStreamId","origGetLocalStreams","getLocalStreams","nativeStreams","DOMException","newStream","signalingState","oldStream","Promise","resolve","then","method","nativeMethod","args","desc","origSetLocalDescription","setLocalDescription","origLocalDescription","getOwnPropertyDescriptor","streamid","OrigPeerConnection","pcConfig","pcConstraints","iceServers","newIceServers","server","deprecated","urls","url","generateCertificate","iceTransportPolicy","iceTransports","webkitRTCPeerConnection","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","result","report","standardStats","timestamp","localcandidate","remotecandidate","names","stat","makeMapStats","stats","Map","reject","promise","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","../utils.js","./getusermedia","6","navigator","constraintsToChrome_","c","mandatory","optional","cc","ideal","exact","min","max","oldname_","charAt","oc","mix","advanced","shimConstraints_","constraints","func","audio","remap","b","video","face","facingMode","getSupportedFacingModeLies","mediaDevices","getSupportedConstraints","matches","enumerateDevices","devices","dev","d","some","match","label","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","message","constraint","constraintName","getUserMedia","onSuccess","onError","webkitGetUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","cs","getAudioTracks","getVideoTracks","stop","7","wrapPeerConnectionEvent","eventNameToWrap","wrapper","proto","nativeAddEventListener","nativeEventName","cb","wrappedCallback","_eventMap","nativeRemoveEventListener","unwrappedCb","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","assign","toJSON","sdpMid","sdpMLineIndex","writable","8","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","inboundrtp","outboundrtp","candidatepair","nativeGetStats","onSucc","onErr","../utils","9","InternalError","NotSupportedError","SecurityError","The operation is insecure.","getUserMedia_","constraintsToFF37_","mozGetUserMedia","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","10","_localStreams","getStreamById","_remoteStreams","_addTrack","tracks","getRemoteStreams","_onaddstream","_onaddstreampoly","createOffer","createAnswer","failureCallback","withCallback","errcb","RTCTransceiver","11","logDisabled_","deprecationWarnings_","bool","console","oldMethod","newMethod","warn","uastring","expr","userAgent","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","srcObject","nativeSetAttribute","setAttribute","__window","__self","WorkerGlobalScope","__global","_root","x","Array","isArray","__extends","__","constructor","p","create","_super","stack","Subscription","unsubscribe","closed","_parent","_parents","_subscriptions","_unsubscribe","hasErrors","_a","remove","isFunction_1","isFunction","trial","tryCatch_1","tryCatch","isArray_1","sub","isObject_1","isObject","add","teardown","EMPTY","subscription","_addParent","tmp","subscriptions","subscriptionIndex","parent","empty","error","complete","Symbol","root_1","root","for","rxSubscriber","Subscriber","destinationOrNext","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","Observer_1","SafeSubscriber","rxSubscriber_1","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","Subscription_1","_parentSubscriber","observerOrNext","context","_context","__tryOrSetError","__tryOrUnsub","_this","wrappedComplete","nextOrObserver","Subscriber_1","getSymbolObservable","$$observable","observable","Observable","subscribe","_isScalar","_subscribe","lift","operator","source","sink","toSubscriber_1","toSubscriber","_trySubscribe","PromiseCtor","Rx","config","observable_1","ObjectUnsubscribedError","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","AnonymousSubject","ObjectUnsubscribedError_1","copy","SubjectSubscription_1","asObservable","Observable_1","MapOperator","project","thisArg","MapSubscriber","count","map_1","ctx","offset","pending","base64","string","ceil","b64","s64","encode","start","chunk","String","fromCharCode","decode","charCodeAt","test","on","evt","off","listeners","emit","moduleName","read","c1","c2","alloc","size","SIZE","MAX","slab","zero","toNumber","zzEncode","zzDecode","zeroHash","fromNumber","from","isString","Long","fromString","low","high","unsigned","toLong","fromHash","hash","toHash","mask","part0","part1","part2","merge","dst","ifNotSet","newError","CustomError","properties","captureStackTrace","asPromise","require$$0","require$$1","require$$2","float","require$$3","inquire","require$$4","require$$5","pool","require$$6","require$$7","emptyArray","freeze","emptyObject","isNode","process","versions","node","isInteger","Number","isFinite","isset","isSet","prop","Buffer","_Buffer_from","_Buffer_allocUnsafe","newBuffer","sizeOrArray","dcodeIO","key2Re","key32Re","key64Re","longToHash","longFromHash","fromBits","lcFirst","str","ProtocolError","oneOfGetter","fieldNames","fieldMap","oneOfSetter","toJSONOptions","longs","enums","bytes","json","_configure","encoding","allocUnsafe","subarray","_push","uint32","int32","sint32","uint64","int64","sint64","fixed32","sfixed32","fixed64","sfixed64","double","writeBytes","fork","reset","ldelim","finish","BufferWriter_","writeBytesBuffer","byteLength","create_array","isBuffer","_slice","skip","skipType","wireType","BufferReader_","utf8Slice","rpcCall","requestCtor","responseCtor","request","callback","setTimeout","endedByRPC","configure","protobuf","build","rpc","roots","$Reader","$protobuf.Reader","$Writer","$protobuf.Writer","$util","$protobuf.util","$root","$protobuf.roots","Message","senderId","recipientId","isService","content","tag","user","full","$oneOfFields","Chunk","number","Type","valuesById","values","service","webChannel","init","initOk","ping","pong","InitData","Peers","generatedIds","topology","wcId","end2","members","channelBuilder","failed","Connection","wsUrl","isWrtcSupport","fullMesh","connectTo","connectedTo","joiningPeerId","joinSucceed","webRTCBuilder","isInitiator","offer","answer","iceCandidate","IceCandidate","signaling","isFirst","joined","Content","isEnd","data","isError","BehaviorSubject","_value","getValue","enumerable","configurable","Subject_1","FilterOperator","predicate","FilterSubscriber","filter_1","Action","scheduler","work","schedule","state","delay","AsyncAction","recycleAsyncId","requestAsyncId","setInterval","flush","clearInterval","execute","_execute","errored","errorValue","actions","Action_1","QueueAction","AsyncAction_1","Scheduler","SchedulerAction","now","Date","AsyncScheduler","active","scheduled","action","Scheduler_1","QueueScheduler","AsyncScheduler_1","QueueAction_1","Notification","hasValue","observe","observer","do","accept","toObservable","of","throw","createNext","undefinedValueNotification","createError","createComplete","completeNotification","ObserveOnOperator","ObserveOnSubscriber","dispatch","arg","notification","scheduleMessage","ObserveOnMessage","Notification_1","ReplaySubject","bufferSize","windowTime","POSITIVE_INFINITY","_events","_bufferSize","_windowTime","_getNow","ReplayEvent","_trimBufferThenGetEvents","observeOn_1","queue_1","queue","eventsCount","spliceCount","time"],"mappings":"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"}